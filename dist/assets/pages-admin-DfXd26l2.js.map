{"version":3,"file":"pages-admin-DfXd26l2.js","sources":["../../src/pages/DashboardPage.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { AdminDashboard } from '../components/Dashboard/AdminDashboard';\r\nimport { SellerDashboard } from '../components/Dashboard/SellerDashboard';\r\nimport { CustomerDashboard } from '../components/Dashboard/CustomerDashboard';\r\nimport { LoadingSpinner } from '../components/Common/LoadingSpinner';\r\n\r\nexport const DashboardPage: React.FC = () => {\r\n  const { user, loading } = useAuth();\r\n\r\n  // Show loading spinner while authentication is being checked\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <LoadingSpinner />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Show access denied if no user is authenticated (temporarily bypassed for testing)\r\n  const isDevelopment = import.meta.env.VITE_APP_ENV === 'development';\r\n  const allowTestAccess = isDevelopment && import.meta.env.VITE_DIRECT_LOGIN_ENABLED === 'true';\r\n\r\n  if (!user && !allowTestAccess) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Access Denied</h2>\r\n          <p className=\"text-gray-600 mb-6\">Please sign in to access your dashboard.</p>\r\n          <button\r\n            onClick={() => window.location.href = '/'}\r\n            className=\"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\r\n          >\r\n            Go to Homepage\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const renderDashboard = () => {\r\n    // In test mode, default to admin dashboard\r\n    const userRole = user?.role || (allowTestAccess ? 'admin' : 'customer');\r\n\r\n    switch (userRole) {\r\n      case 'admin':\r\n        return <AdminDashboard />;\r\n      case 'seller':\r\n        return <SellerDashboard />;\r\n      case 'customer':\r\n        return <CustomerDashboard />;\r\n      default:\r\n        // Fallback for any unrecognized role\r\n        console.warn(`Unrecognized user role: ${userRole}. Defaulting to customer dashboard.`);\r\n        return <CustomerDashboard />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {renderDashboard()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardPage;\r\n"],"names":["DashboardPage","user","loading","useAuth","className","children","jsx","LoadingSpinner","jsxs","onClick","window","location","href","role","AdminDashboard","SellerDashboard","CustomerDashboard"],"mappings":"uUAOO,MAAMA,EAA0B,KACrC,MAAMC,KAAEA,EAAAC,QAAMA,GAAYC,IAG1B,GAAID,EACF,aACG,MAAA,CAAIE,UAAU,gDACbC,SAAAC,MAACC,QASP,IAAKN,EACH,aACG,MAAA,CAAIG,UAAU,gDACbC,SAAAG,EAAAA,KAAC,MAAA,CAAIJ,UAAU,cACbC,SAAA,OAAC,KAAA,CAAGD,UAAU,wCAAwCC,SAAA,wBACrD,IAAA,CAAED,UAAU,qBAAqBC,SAAA,6CAClCC,EAAAA,IAAC,SAAA,CACCG,QAAS,IAAMC,OAAOC,SAASC,KAAO,IACtCR,UAAU,sFACXC,SAAA,wBA0BT,OACEC,EAAAA,IAAC,MAAA,CAAIF,UAAU,0BACZC,SApBmB,MAItB,cAFiBJ,WAAMY,OAAqC,YAG1D,IAAK,QACH,aAAQC,EAAA,IACV,IAAK,SACH,aAAQC,EAAA,IAGV,QAGE,aAAQC,EAAA"}