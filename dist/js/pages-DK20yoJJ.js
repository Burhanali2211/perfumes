var e=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,l=(s,t,a)=>t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,n=(e,s)=>{for(var t in s||(s={}))r.call(s,t)&&l(e,t,s[t]);if(a)for(var t of a(s))i.call(s,t)&&l(e,t,s[t]);return e},o=(e,a)=>s(e,t(a)),d=(e,s,t)=>l(e,"symbol"!=typeof s?s+"":s,t),c=(e,s,t)=>new Promise((a,r)=>{var i=e=>{try{n(t.next(e))}catch(s){r(s)}},l=e=>{try{n(t.throw(e))}catch(s){r(s)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(i,l);n((t=t.apply(e,s)).next())});import{aT as m,aU as x,r as u,j as h,A as p,aS as g,Q as y,aK as b,p as f,a4 as j,aV as N,X as v,aW as w,aX as k,ar as C,as as S,i as P,ag as A,_ as E,H as F,af as O,au as T,aM as D,$ as M,aY as $,a5 as U,S as I,a0 as _,aN as q,aZ as R,a2 as L,w as B,aL as z,G as Y,C as H,b as W,l as V,at as G,f as K,a_ as J,a$ as Z,M as Q,c as X,U as ee,d as se,E as te,e as ae,g as re,aP as ie,R as le,b0 as ne,L as oe,v as de,a1 as ce,h as me,a as xe,a3 as ue,b1 as he,Y as pe,a6 as ge,k as ye,b2 as be,aE as fe,P as je,b3 as Ne,b4 as ve,b5 as we,B as ke,T as Ce,av as Se,D as Pe}from"./vendor-react-DowSDiGU.js";import{b as Ae,i as Ee,a as Fe,d as Oe,c as Te,x as De,w as Me,l as $e,D as Ue,E as Ie}from"./app-core-ClnmP3o8.js";import{a as _e,T as qe,M as Re,R as Le,S as Be,d as ze,e as Ye,f as He,g as We,c as Ve,h as Ge,b as Ke,i as Je,j as Ze,C as Qe}from"./components-product-DbpUUX7Z.js";import{L as Xe,P as es,M as ss,C as ts,S as as,A as rs,N as is}from"./components-dashboard-BOeR8pDF.js";import{m as ls,A as ns}from"./vendor-animations-DsmzRAY5.js";import{u as os,a as ds}from"./components-home-CMh7EdOl.js";import{D as cs,E as ms,F as xs,G as us,H as hs,I as ps,J as gs,K as ys}from"./vendor-db-C6G_7sOF.js";const bs=new class{constructor(){d(this,"fromEmail","noreply@sufiessences.com"),d(this,"fromName","Sufi Essences Admin")}generateUserCreationTemplate(e){const{name:s,email:t,password:a,role:r,confirmationUrl:i}=e;return{subject:"Welcome to Sufi Essences - Your Account Has Been Created",htmlContent:`\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <meta charset="utf-8">\n        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n        <title>Welcome to Sufi Essences</title>\n        <style>\n          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\n          .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n          .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; border-radius: 10px 10px 0 0; }\n          .content { background: #f9f9f9; padding: 30px; border-radius: 0 0 10px 10px; }\n          .credentials { background: #fff; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #667eea; }\n          .button { display: inline-block; background: #667eea; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; margin: 20px 0; }\n          .footer { text-align: center; margin-top: 30px; color: #666; font-size: 14px; }\n          .warning { background: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 5px; margin: 20px 0; }\n        </style>\n      </head>\n      <body>\n        <div class="container">\n          <div class="header">\n            <h1>Welcome to Sufi Essences</h1>\n            <p>Your account has been created successfully</p>\n          </div>\n          <div class="content">\n            <h2>Hello ${s},</h2>\n            <p>Your administrator has created an account for you on Sufi Essences with the role of <strong>${r}</strong>.</p>\n            \n            <div class="credentials">\n              <h3>Your Login Credentials:</h3>\n              <p><strong>Email:</strong> ${t}</p>\n              <p><strong>Temporary Password:</strong> <code>${a}</code></p>\n            </div>\n            \n            <div class="warning">\n              <strong>Important:</strong> Please change your password after your first login for security purposes.\n            </div>\n            \n            ${i?`\n              <p>Please click the button below to confirm your email address and activate your account:</p>\n              <a href="${i}" class="button">Confirm Email Address</a>\n              <p>If the button doesn't work, copy and paste this link into your browser:</p>\n              <p><a href="${i}">${i}</a></p>\n            `:`\n              <p>Your account is ready to use. You can log in immediately with the credentials above.</p>\n              <a href="${window.location.origin}/login" class="button">Login to Your Account</a>\n            `}\n            \n            <h3>What's Next?</h3>\n            <ul>\n              <li>Log in to your account using the credentials above</li>\n              <li>Complete your profile information</li>\n              <li>Change your password for security</li>\n              <li>Explore the platform features available to your role</li>\n            </ul>\n            \n            <p>If you have any questions or need assistance, please don't hesitate to contact our support team.</p>\n            \n            <p>Best regards,<br>The Sufi Essences Team</p>\n          </div>\n          <div class="footer">\n            <p>This email was sent from Sufi Essences Admin Panel</p>\n            <p>If you didn't expect this email, please contact our support team immediately.</p>\n          </div>\n        </div>\n      </body>\n      </html>\n    `,textContent:`\nWelcome to Sufi Essences\n\nHello ${s},\n\nYour administrator has created an account for you on Sufi Essences with the role of ${r}.\n\nYour Login Credentials:\nEmail: ${t}\nTemporary Password: ${a}\n\nIMPORTANT: Please change your password after your first login for security purposes.\n\n${i?`\nPlease confirm your email address by visiting this link:\n${i}\n`:`\nYour account is ready to use. You can log in immediately at:\n${window.location.origin}/login\n`}\n\nWhat's Next:\n- Log in to your account using the credentials above\n- Complete your profile information\n- Change your password for security\n- Explore the platform features available to your role\n\nIf you have any questions or need assistance, please contact our support team.\n\nBest regards,\nThe Sufi Essences Team\n\n---\nThis email was sent from Sufi Essences Admin Panel\nIf you didn't expect this email, please contact our support team immediately.\n    `}}sendEmail(e,s,t){return c(this,null,function*(){try{const a=yield fetch("/.netlify/functions/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:e,from:this.fromEmail,fromName:this.fromName,subject:s.subject,html:s.htmlContent,text:s.textContent,metadata:t})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const r=yield a.json();if(!r.success)throw new Error(r.error||"Email sending failed");return{success:!0,messageId:r.messageId}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Unknown email error"}}})}sendUserCreationEmail(e){return c(this,null,function*(){const s=this.generateUserCreationTemplate(e);return this.sendEmail(e.email,s,{type:"user_creation",role:e.role,hasConfirmation:!!e.confirmationUrl})})}sendOrderConfirmationEmail(e){return c(this,null,function*(){const s=this.generateOrderConfirmationTemplate(e);return this.sendEmail(e.email,s,{type:"order_confirmation",orderId:e.orderId,total:e.total})})}sendOrderStatusUpdateEmail(e){return c(this,null,function*(){const s=this.generateOrderStatusTemplate(e);return this.sendEmail(e.email,s,{type:"order_status_update",orderId:e.orderId,status:e.status})})}sendWelcomeEmail(e){return c(this,null,function*(){const s=this.generateWelcomeTemplate(e);return this.sendEmail(e.email,s,{type:"welcome",userEmail:e.email})})}sendConfirmationReminder(e,s,t){return c(this,null,function*(){const a={subject:"Please Confirm Your Email Address - Sufi Essences",htmlContent:`\n        <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">\n          <h2>Email Confirmation Required</h2>\n          <p>Hello ${s},</p>\n          <p>Please confirm your email address to complete your account setup:</p>\n          <a href="${t}" style="background: #667eea; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; display: inline-block; margin: 20px 0;">Confirm Email</a>\n          <p>If the button doesn't work, copy and paste this link: ${t}</p>\n        </div>\n      `,textContent:`\nEmail Confirmation Required\n\nHello ${s},\n\nPlease confirm your email address to complete your account setup by visiting:\n${t}\n\nBest regards,\nThe Sufi Essences Team\n      `};return this.sendEmail(e,a,{type:"confirmation_reminder"})})}sendPasswordResetEmail(e,s,t){return c(this,null,function*(){const a={subject:"Your Password Has Been Reset - Sufi Essences",htmlContent:`\n        <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">\n          <h2>Password Reset</h2>\n          <p>Hello ${s},</p>\n          <p>Your password has been reset by an administrator.</p>\n          <div style="background: #f9f9f9; padding: 20px; border-radius: 5px; margin: 20px 0;">\n            <p><strong>New Password:</strong> <code>${t}</code></p>\n          </div>\n          <p><strong>Important:</strong> Please change this password after logging in.</p>\n          <a href="${window.location.origin}/login" style="background: #667eea; color: white; padding: 12px 30px; text-decoration: none; border-radius: 5px; display: inline-block; margin: 20px 0;">Login Now</a>\n        </div>\n      `,textContent:`\nPassword Reset\n\nHello ${s},\n\nYour password has been reset by an administrator.\n\nNew Password: ${t}\n\nIMPORTANT: Please change this password after logging in.\n\nLogin at: ${window.location.origin}/login\n\nBest regards,\nThe Sufi Essences Team\n      `};return this.sendEmail(e,a,{type:"password_reset"})})}generateOrderConfirmationTemplate(e){const s=e.items.map(e=>`\n      <tr>\n        <td style="padding: 10px; border-bottom: 1px solid #eee;">\n          <div style="display: flex; align-items: center;">\n            ${e.image?`<img src="${e.image}" alt="${e.name}" style="width: 50px; height: 50px; object-fit: cover; margin-right: 10px; border-radius: 4px;">`:""}\n            <div>\n              <strong>${e.name}</strong><br>\n              <small>Quantity: ${e.quantity}</small>\n            </div>\n          </div>\n        </td>\n        <td style="padding: 10px; border-bottom: 1px solid #eee; text-align: right;">\n          ₹${(e.price*e.quantity).toFixed(2)}\n        </td>\n      </tr>\n    `).join(""),t=`\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <meta charset="utf-8">\n        <title>Order Confirmation - Sufi Essences</title>\n        <style>\n          body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\n          .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n          .header { background: linear-gradient(135deg, #8B5A3C, #A0522D); color: white; padding: 30px; text-align: center; border-radius: 8px 8px 0 0; }\n          .content { background: white; padding: 30px; border: 1px solid #ddd; }\n          .footer { background: #f8f9fa; padding: 20px; text-align: center; border-radius: 0 0 8px 8px; }\n          .order-summary { background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; }\n          .total-row { font-weight: bold; font-size: 18px; color: #8B5A3C; }\n          table { width: 100%; border-collapse: collapse; margin: 20px 0; }\n          .btn { background: #8B5A3C; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block; margin: 10px 0; }\n        </style>\n      </head>\n      <body>\n        <div class="container">\n          <div class="header">\n            <h1>🌸 Order Confirmed!</h1>\n            <p>Thank you for your purchase from Sufi Essences</p>\n          </div>\n\n          <div class="content">\n            <p>Dear ${e.name},</p>\n\n            <p>Your order has been confirmed and is being prepared for shipment. Here are your order details:</p>\n\n            <div class="order-summary">\n              <h3>Order #${e.orderId}</h3>\n              <p><strong>Payment Method:</strong> ${e.paymentMethod}</p>\n              <p><strong>Shipping Address:</strong><br>\n                ${e.shippingAddress.street}<br>\n                ${e.shippingAddress.city}, ${e.shippingAddress.state} ${e.shippingAddress.zipCode}<br>\n                ${e.shippingAddress.country}\n              </p>\n            </div>\n\n            <h3>Order Items:</h3>\n            <table>\n              ${s}\n              <tr>\n                <td style="padding: 10px; text-align: right;"><strong>Subtotal:</strong></td>\n                <td style="padding: 10px; text-align: right;"><strong>₹${e.subtotal.toFixed(2)}</strong></td>\n              </tr>\n              <tr>\n                <td style="padding: 10px; text-align: right;">GST (18%):</td>\n                <td style="padding: 10px; text-align: right;">₹${e.gst.toFixed(2)}</td>\n              </tr>\n              <tr>\n                <td style="padding: 10px; text-align: right;">Shipping:</td>\n                <td style="padding: 10px; text-align: right;">${0===e.shipping?"FREE":"₹"+e.shipping.toFixed(2)}</td>\n              </tr>\n              <tr class="total-row">\n                <td style="padding: 15px; text-align: right; border-top: 2px solid #8B5A3C;">Total:</td>\n                <td style="padding: 15px; text-align: right; border-top: 2px solid #8B5A3C;">₹${e.total.toFixed(2)}</td>\n              </tr>\n            </table>\n\n            <p>We'll send you another email with tracking information once your order ships.</p>\n\n            <div style="text-align: center; margin: 30px 0;">\n              <a href="${window.location.origin}/orders" class="btn">Track Your Order</a>\n            </div>\n          </div>\n\n          <div class="footer">\n            <p>Thank you for choosing Sufi Essences - Premium Kashmiri Perfumes</p>\n            <p>If you have any questions, contact us at orders@sufiessences.com</p>\n          </div>\n        </div>\n      </body>\n      </html>\n    `,a=`\nOrder Confirmation - Sufi Essences\n\nDear ${e.name},\n\nYour order #${e.orderId} has been confirmed!\n\nOrder Details:\n${e.items.map(e=>`- ${e.name} (Qty: ${e.quantity}) - ₹${(e.price*e.quantity).toFixed(2)}`).join("\n")}\n\nSubtotal: ₹${e.subtotal.toFixed(2)}\nGST (18%): ₹${e.gst.toFixed(2)}\nShipping: ${0===e.shipping?"FREE":"₹"+e.shipping.toFixed(2)}\nTotal: ₹${e.total.toFixed(2)}\n\nShipping Address:\n${e.shippingAddress.street}\n${e.shippingAddress.city}, ${e.shippingAddress.state} ${e.shippingAddress.zipCode}\n${e.shippingAddress.country}\n\nWe'll send you tracking information once your order ships.\n\nThank you for choosing Sufi Essences!\n    `;return{subject:`Order Confirmation #${e.orderId} - Sufi Essences`,htmlContent:t,textContent:a}}},fs=Object.freeze(Object.defineProperty({__proto__:null,emailService:bs},Symbol.toStringTag,{value:"Module"})),js=({filters:e,categories:s,brands:t,priceRanges:a,discountOptions:r,expandedFilters:i,setExpandedFilters:l,handleFilterChange:d,clearAllFilters:c})=>h.jsxs("div",{className:"bg-white rounded-lg shadow-sm",children:[h.jsx("div",{className:"p-4 border-b",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"}),Object.values(e).some(e=>"string"==typeof e&&""!==e&&"popularity"!==e||Array.isArray(e)&&(e[0]>0||e[1]<5e4)||"number"==typeof e&&e>0)&&h.jsx("button",{onClick:c,className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear all"})]})}),h.jsxs("div",{className:"p-4 space-y-6",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between cursor-pointer mb-3",onClick:()=>l(e=>o(n({},e),{category:!e.category})),children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Category"}),i.category?h.jsx(C,{className:"h-4 w-4"}):h.jsx(S,{className:"h-4 w-4"})]}),i.category&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"radio",name:"category",checked:""===e.category,onChange:()=>d("category",""),className:"mr-2"}),h.jsx("span",{className:"text-sm",children:"All Categories"})]}),s.map(s=>h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"radio",name:"category",checked:e.category===s.name,onChange:()=>d("category",s.name),className:"mr-2"}),h.jsx("span",{className:"text-sm",children:s.name})]},s.id))]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between cursor-pointer mb-3",onClick:()=>l(e=>o(n({},e),{price:!e.price})),children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Price"}),i.price?h.jsx(C,{className:"h-4 w-4"}):h.jsx(S,{className:"h-4 w-4"})]}),i.price&&h.jsx("div",{className:"space-y-2",children:a.map(s=>h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"radio",name:"priceRange",checked:e.priceRange[0]===s.min&&e.priceRange[1]===s.max,onChange:()=>d("priceRange",[s.min,s.max]),className:"mr-2"}),h.jsx("span",{className:"text-sm",children:s.label})]},s.label))})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between cursor-pointer mb-3",onClick:()=>l(e=>o(n({},e),{rating:!e.rating})),children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Customer Ratings"}),i.rating?h.jsx(C,{className:"h-4 w-4"}):h.jsx(S,{className:"h-4 w-4"})]}),i.rating&&h.jsx("div",{className:"space-y-2",children:[4,3,2,1].map(s=>h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"radio",name:"rating",checked:e.rating===s,onChange:()=>d("rating",s),className:"mr-2"}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex",children:[1,2,3,4,5].map(e=>h.jsx(P,{className:"h-3 w-3 "+(e<=s?"text-yellow-400 fill-current":"text-gray-300")},e))}),h.jsx("span",{className:"ml-1 text-sm",children:"& Up"})]})]},s))})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between cursor-pointer mb-3",onClick:()=>l(e=>o(n({},e),{discount:!e.discount})),children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Discount"}),i.discount?h.jsx(C,{className:"h-4 w-4"}):h.jsx(S,{className:"h-4 w-4"})]}),i.discount&&h.jsx("div",{className:"space-y-2",children:r.map(s=>h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"radio",name:"discount",checked:e.discount===s.value,onChange:()=>d("discount",s.value),className:"mr-2"}),h.jsx("span",{className:"text-sm",children:s.label})]},s.value))})]})]})]}),Ns=({filters:e,categories:s,brands:t,priceRanges:a,discountOptions:r,expandedFilters:i,setExpandedFilters:l,handleFilterChange:d,clearAllFilters:c,onClose:m})=>h.jsxs("div",{className:"p-4 space-y-6",children:[Object.values(e).some(e=>"string"==typeof e&&""!==e&&"popularity"!==e||Array.isArray(e)&&(e[0]>0||e[1]<5e4)||"number"==typeof e&&e>0)&&h.jsx("div",{className:"text-center",children:h.jsx("button",{onClick:()=>{c(),m()},className:"text-sm text-blue-600 hover:text-blue-800 px-4 py-2 border border-blue-600 rounded-lg hover:bg-blue-50",children:"Clear all filters"})}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between cursor-pointer mb-3 py-2",onClick:()=>l(e=>o(n({},e),{category:!e.category})),children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Category"}),i.category?h.jsx(C,{className:"h-5 w-5"}):h.jsx(S,{className:"h-5 w-5"})]}),i.category&&h.jsxs("div",{className:"space-y-3 pb-4 border-b border-gray-200",children:[h.jsxs("label",{className:"flex items-center py-2",children:[h.jsx("input",{type:"radio",name:"category-mobile",checked:""===e.category,onChange:()=>d("category",""),className:"mr-3 w-4 h-4"}),h.jsx("span",{className:"text-sm",children:"All Categories"})]}),s.map(s=>h.jsxs("label",{className:"flex items-center py-2",children:[h.jsx("input",{type:"radio",name:"category-mobile",checked:e.category===s.name,onChange:()=>d("category",s.name),className:"mr-3 w-4 h-4"}),h.jsx("span",{className:"text-sm",children:s.name})]},s.id))]})]}),h.jsx("div",{className:"sticky bottom-0 bg-white pt-4 border-t border-gray-200",children:h.jsx("button",{onClick:m,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Apply Filters"})})]}),vs=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[e,s]=m(),{slug:t}=x(),{products:a,categories:r,loading:i,fetchProducts:l}=Ae(),{showNotification:d}=Ee(),[c,C]=u.useState("grid"),[S,P]=u.useState(!1),[A,E]=u.useState(!1),[F,O]=u.useState(!1),[T,D]=u.useState({category:!0,price:!0,brand:!1,rating:!1,discount:!1}),[M,$]=u.useState({category:t||e.get("category")||"",search:e.get("q")||"",priceRange:[0,5e4],rating:0,brand:"",discount:"",availability:"",sortBy:"popularity"}),U=[{label:"Under ₹1,000",min:0,max:1e3},{label:"₹1,000 - ₹5,000",min:1e3,max:5e3},{label:"₹5,000 - ₹10,000",min:5e3,max:1e4},{label:"₹10,000 - ₹25,000",min:1e4,max:25e3},{label:"Over ₹25,000",min:25e3,max:1e5}],I=[{label:"All Discounts",value:""},{label:"50% Off or more",value:"50"},{label:"40% Off or more",value:"40"},{label:"30% Off or more",value:"30"},{label:"20% Off or more",value:"20"},{label:"10% Off or more",value:"10"}],_=u.useMemo(()=>{const e=new Set(a.map(e=>e.sellerName).filter(Boolean));return Array.from(e).sort()},[a]),q=u.useMemo(()=>{let e=[...a];if(M.search){const s=M.search.toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.sellerName.toLowerCase().includes(s))}if(M.category&&(e=e.filter(e=>e.category===M.category)),e=e.filter(e=>{const s=(e.originalPrice&&(e.originalPrice,e.price),e.price);return s>=M.priceRange[0]&&s<=M.priceRange[1]}),M.rating>0&&(e=e.filter(e=>e.rating>=M.rating)),M.brand&&(e=e.filter(e=>e.sellerName===M.brand)),M.discount){const s=parseInt(M.discount);e=e.filter(e=>{if(!e.originalPrice||e.originalPrice<=e.price)return!1;return(e.originalPrice-e.price)/e.originalPrice*100>=s})}return"in-stock"===M.availability&&(e=e.filter(e=>e.stock>0)),e},[a,M]),R=u.useMemo(()=>{const e=[...q];switch(M.sortBy){case"price-low-high":return e.sort((e,s)=>(e.originalPrice&&(e.originalPrice,e.price),e.price)-(s.originalPrice&&(s.originalPrice,s.price),s.price));case"price-high-low":return e.sort((e,s)=>{const t=(e.originalPrice&&(e.originalPrice,e.price),e.price);return(s.originalPrice&&(s.originalPrice,s.price),s.price)-t});case"rating":return e.sort((e,s)=>s.rating-e.rating);case"newest":return e.sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime());case"discount":return e.sort((e,s)=>{const t=e.originalPrice?(e.originalPrice-e.price)/e.originalPrice*100:0;return(s.originalPrice?(s.originalPrice-s.price)/s.originalPrice*100:0)-t});default:return e.sort((e,s)=>(s.reviewCount||0)-(e.reviewCount||0))}},[q,M.sortBy]),L=u.useCallback((t,a)=>{$(e=>o(n({},e),{[t]:a}));const r=new URLSearchParams(e);"search"===t&&a?r.set("q",a):"category"===t&&a&&r.set("category",a),s(r)},[e,s]),B=()=>{$({category:"",search:"",priceRange:[0,5e4],rating:0,brand:"",discount:"",availability:"",sortBy:"popularity"}),s({})};u.useEffect(()=>{l()},[l]),u.useEffect(()=>{const e=()=>{O(window.scrollY>0)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]);return i?h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsxs("div",{className:"animate-pulse",children:[h.jsx("div",{className:"bg-white border-b",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4",children:[h.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),h.jsx("div",{className:"h-10 bg-gray-200 rounded w-full"})]})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 flex gap-6",children:[h.jsx("div",{className:"w-64 space-y-4",children:[1,2,3,4].map(e=>h.jsx("div",{className:"h-32 bg-gray-200 rounded"},e))}),h.jsx("div",{className:"flex-1",children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[1,2,3,4,5,6,7,8].map(e=>h.jsx("div",{className:"h-80 bg-gray-200 rounded"},e))})})]})]})}):h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsxs("div",{className:"bg-white border-b sticky top-0 z-50 transition-all duration-200 "+(F?"shadow-md":""),children:[h.jsxs("div",{className:"px-4 py-3",children:[h.jsxs("div",{className:"flex items-center justify-between md:hidden mb-3",children:[h.jsx("button",{onClick:()=>{window.history.length>1?window.history.back():window.location.href="/"},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(p,{className:"h-5 w-5"})}),h.jsx("h1",{className:"text-lg font-semibold text-gray-900 flex-1 text-center",children:M.category||"Products"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(g,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>E(!A),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:h.jsx(y,{className:"h-5 w-5"})})]})]}),h.jsxs("div",{className:"hidden md:flex items-center text-sm text-gray-600 mb-3",children:[h.jsxs(b,{to:"/",className:"hover:text-blue-600 flex items-center gap-1",children:[h.jsx(f,{className:"h-4 w-4"}),h.jsx("span",{children:"Home"})]}),h.jsx("span",{className:"mx-2",children:">"}),M.category?h.jsxs(h.Fragment,{children:[h.jsx("span",{children:"Products"}),h.jsx("span",{className:"mx-2",children:">"}),h.jsx("span",{className:"text-gray-900",children:M.category})]}):h.jsx("span",{className:"text-gray-900",children:"All Products"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx("input",{type:"text",placeholder:"Search for products, brands and more",value:M.search,onChange:e=>L("search",e.target.value),className:"w-full px-4 py-3 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent shadow-sm"}),h.jsx(j,{className:"absolute right-3 top-3 h-5 w-5 text-gray-400"})]}),h.jsxs("button",{onClick:()=>P(!S),className:`flex items-center gap-2 px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors ${S?"bg-blue-50 border-blue-300 text-blue-600":""} lg:hidden`,children:[h.jsx(N,{className:"h-4 w-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Filters"})]})]})]}),h.jsx("div",{className:"md:hidden bg-gray-50 border-t px-4 py-2",children:h.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto scrollbar-hide",children:[h.jsx("button",{onClick:()=>L("sortBy","popularity"),className:"flex-shrink-0 px-3 py-1 text-xs rounded-full border transition-colors "+("popularity"===M.sortBy?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-300 text-gray-600"),children:"Popular"}),h.jsx("button",{onClick:()=>L("sortBy","price-low-high"),className:"flex-shrink-0 px-3 py-1 text-xs rounded-full border transition-colors "+("price-low-high"===M.sortBy?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-300 text-gray-600"),children:"Price: Low to High"}),h.jsx("button",{onClick:()=>L("sortBy","rating"),className:"flex-shrink-0 px-3 py-1 text-xs rounded-full border transition-colors "+("rating"===M.sortBy?"bg-blue-100 border-blue-300 text-blue-700":"bg-white border-gray-300 text-gray-600"),children:"Highest Rated"}),h.jsx("button",{onClick:()=>L("discount","20"),className:"flex-shrink-0 px-3 py-1 text-xs rounded-full border transition-colors "+("20"===M.discount?"bg-red-100 border-red-300 text-red-700":"bg-white border-gray-300 text-gray-600"),children:"20% Off+"})]})})]}),h.jsxs("div",{className:"max-w-[1400px] mx-auto px-3 md:px-4 lg:px-6 py-4 md:py-6 flex gap-3 md:gap-4 relative",children:[S&&h.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>P(!1),children:h.jsxs("div",{className:"absolute right-0 top-0 h-full w-80 bg-white shadow-xl transform transition-transform duration-300 overflow-y-auto",onClick:e=>e.stopPropagation(),children:[h.jsxs("div",{className:"sticky top-0 bg-white border-b p-4 flex items-center justify-between",children:[h.jsx("h3",{className:"font-semibold text-gray-900",children:"Filters"}),h.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:h.jsx(v,{className:"h-5 w-5"})})]}),h.jsx(Ns,{filters:M,categories:r,brands:_,priceRanges:U,discountOptions:I,expandedFilters:T,setExpandedFilters:D,handleFilterChange:L,clearAllFilters:B,onClose:()=>P(!1)})]})}),h.jsx("div",{className:"w-64 flex-shrink-0 hidden lg:block sticky top-24 h-fit",children:h.jsx(js,{filters:M,categories:r,brands:_,priceRanges:U,discountOptions:I,expandedFilters:T,setExpandedFilters:D,handleFilterChange:L,clearAllFilters:B})}),h.jsxs("div",{className:"flex-1 min-w-0 max-w-full",children:[h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-3 md:p-4 mb-3 md:mb-4",children:h.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3 md:gap-4",children:[h.jsx("div",{className:"flex items-center gap-2 md:gap-4",children:h.jsxs("span",{className:"text-sm md:text-base text-gray-600",children:[h.jsx("span",{className:"font-semibold text-gray-900",children:R.length})," of ",a.length," results",M.search&&h.jsxs("span",{className:"hidden sm:inline",children:[' for "',h.jsx("span",{className:"font-medium",children:M.search}),'"']})]})}),h.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-sm text-gray-600 hidden sm:inline",children:"Sort:"}),h.jsx("select",{value:M.sortBy,onChange:e=>L("sortBy",e.target.value),className:"border border-gray-300 rounded-lg px-2 md:px-3 py-1.5 md:py-2 text-xs md:text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white min-w-[120px] md:min-w-[140px]",children:[{value:"popularity",label:"Popularity"},{value:"price-low-high",label:"Price -- Low to High"},{value:"price-high-low",label:"Price -- High to Low"},{value:"newest",label:"Newest First"},{value:"rating",label:"Avg. Customer Review"},{value:"discount",label:"Discount -- High to Low"}].map(e=>h.jsx("option",{value:e.value,children:e.label},e.value))})]}),h.jsxs("div",{className:"hidden md:flex border border-gray-300 rounded-lg overflow-hidden",children:[h.jsx("button",{onClick:()=>C("grid"),className:"p-2 transition-colors "+("grid"===c?"bg-blue-50 text-blue-600 border-r border-blue-200":"text-gray-600 hover:bg-gray-50 border-r border-gray-300"),children:h.jsx(w,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>C("list"),className:"p-2 transition-colors "+("list"===c?"bg-blue-50 text-blue-600":"text-gray-600 hover:bg-gray-50"),children:h.jsx(k,{className:"h-4 w-4"})})]})]})]})}),0===R.length?h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8 md:p-12 text-center",children:[h.jsx("div",{className:"text-gray-400 mb-4",children:h.jsx(j,{className:"h-10 md:h-12 w-10 md:w-12 mx-auto"})}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filter to find what you're looking for."}),h.jsx("button",{onClick:B,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Clear filters"})]}):h.jsx("div",{className:""+("grid"===c?"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-2 sm:gap-3 md:gap-4":"space-y-3 md:space-y-4"),children:R.map(e=>h.jsx("div",{children:h.jsx(_e,{product:e,isListView:"list"===c})},e.id))})]})]})]})}},Symbol.toStringTag,{value:"Module"})),ws=()=>{const{id:e}=x(),{products:s,loading:t,fetchReviewsForProduct:a,submitReview:r}=Ae(),{user:i}=Fe(),l=s.find(s=>s.id===e),{addItem:n}=Oe(),{addItem:o,isInWishlist:d}=Te(),{addToRecentlyViewed:m,getRelatedProducts:p,getFrequentlyBoughtTogether:g}=De(),{showNotification:y}=Ee(),[b,f]=u.useState([]),[j,N]=u.useState(!0),[v,w]=u.useState(0),[k,C]=u.useState(1),[S,P]=u.useState("description"),[U,I]=u.useState(!1);if(u.useEffect(()=>{if(l){m(l.id);(()=>c(null,null,function*(){N(!0);const e=yield a(l.id);f(e),N(!1)}))()}},[l,a,m]),t)return h.jsx("div",{className:"min-h-screen",children:h.jsx(Xe,{})});if(!l)return h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),h.jsx("p",{className:"text-gray-600",children:"The product you're looking for doesn't exist."})]})});const _=[{icon:O,text:"Fast Shipping on orders over $50"},{icon:T,text:"30-day return policy"},{icon:D,text:"2-year warranty included"}],q=[{id:"description",name:"Description"},{id:"reviews",name:`Reviews (${b.length})`},{id:"shipping",name:"Shipping Info"}];return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[h.jsxs(ls.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[h.jsx("div",{className:"aspect-square mb-4",children:h.jsx(es,{product:{id:l.id,name:l.name,images:l.images},className:"w-full h-full object-cover rounded-xl shadow-lg",alt:l.name,size:"large"})}),l.images&&l.images.length>1&&h.jsx("div",{className:"grid grid-cols-5 gap-4",children:l.images.map((e,s)=>h.jsx("button",{onClick:()=>w(s),className:"aspect-square rounded-lg overflow-hidden border-2 transition-all "+(v===s?"border-indigo-500 scale-105":"border-gray-200"),children:h.jsx(es,{product:{id:l.id,name:l.name,images:[e]},className:"w-full h-full object-cover",alt:"",size:"small"})},s))})]}),h.jsxs(ls.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:l.name}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(qe,{isHot:l.featured,salesIncrease:15}),h.jsx(Re,{freeShipping:l.price>=50,warranty:!0,returns:!0})]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx(Le,{rating:l.rating,reviewCount:b.length,className:"mb-3"}),h.jsx("a",{href:"#reviews",onClick:()=>P("reviews"),className:"text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:"Read all reviews →"})]}),h.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[h.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",l.price]}),l.originalPrice&&h.jsxs("span",{className:"text-2xl text-gray-500 line-through",children:["$",l.originalPrice]})]}),h.jsx(Be,{stock:l.stock,lowStockThreshold:10,className:"mb-4"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quantity"}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[h.jsx("button",{onClick:()=>C(Math.max(1,k-1)),className:"p-3 hover:bg-gray-50 transition-colors",children:h.jsx(A,{className:"h-4 w-4"})}),h.jsx("span",{className:"px-6 py-3 border-x border-gray-300 min-w-[80px] text-center",children:k}),h.jsx("button",{onClick:()=>C(Math.min(l.stock,k+1)),className:"p-3 hover:bg-gray-50 transition-colors",disabled:k>=l.stock,children:h.jsx(E,{className:"h-4 w-4"})})]}),h.jsxs("span",{className:"text-sm text-gray-600",children:[l.stock," available"]})]})]}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsx(ls.button,{onClick:()=>{n(l,k)},disabled:0===l.stock,className:"flex-1 btn-primary !text-lg",whileHover:l.stock>0?{scale:1.02}:{},whileTap:l.stock>0?{scale:.98}:{},children:h.jsx("span",{children:0===l.stock?"Out of Stock":"Add to Cart"})}),h.jsx(ls.button,{onClick:()=>{o(l)},className:"p-4 border rounded-xl transition-colors "+(d(l.id)?"border-red-300 bg-red-50 text-red-500":"border-gray-300 hover:bg-gray-50"),whileHover:{scale:1.05},whileTap:{scale:.95},children:h.jsx(F,{className:"h-6 w-6",fill:d(l.id)?"currentColor":"none"})})]}),h.jsx("div",{className:"space-y-4 pt-6 border-t border-gray-200",children:_.map((e,s)=>h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx(e.icon,{className:"h-5 w-5 text-green-500"})," ",h.jsx("span",{className:"text-gray-700",children:e.text})]},s))}),h.jsx("div",{className:"pt-6",children:h.jsx(ze,{variant:"compact",className:"justify-start"})})]})]}),h.jsx(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-8",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsx(Ye,{productId:l.id,showRecentPurchases:!0,showViewingCount:!0,showCustomerCount:!0}),h.jsx(He,{})]})}),h.jsx(ls.div,{id:"reviews",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-16",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[h.jsx("div",{className:"border-b border-gray-200",children:h.jsx("nav",{className:"flex space-x-8 px-6",children:q.map(e=>h.jsx("button",{onClick:()=>P(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm "+(S===e.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700"),children:e.name},e.id))})}),h.jsxs("div",{className:"p-6",children:["description"===S&&h.jsx("div",{className:"prose max-w-none",children:h.jsx("p",{className:"text-gray-700 leading-relaxed",children:l.description})}),"reviews"===S&&h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h3",{className:"text-xl font-semibold",children:"Customer Reviews"}),h.jsxs("button",{onClick:()=>I(!0),className:"btn-primary",children:[h.jsx(M,{className:"h-4 w-4 mr-2"}),h.jsx("span",{children:"Write a Review"})]})]}),j?h.jsx(Xe,{}):b.length>0?h.jsx("div",{className:"space-y-4",children:b.map(e=>h.jsx(We,{review:e},e.id))}):h.jsxs("div",{className:"text-center py-12",children:[h.jsx($,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No reviews yet"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Be the first to share your thoughts on this product."})]})]}),"shipping"===S&&h.jsx("div",{className:"prose max-w-none",children:h.jsx("p",{children:"Shipping info goes here..."})})]})]})})]}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 space-y-12",children:[h.jsx(Ve,{currentProduct:l,type:"frequently-bought",maxItems:3,showAddToCart:!0,className:"bg-neutral-50 rounded-2xl p-8"}),h.jsx(Ve,{currentProduct:l,type:"related",maxItems:4,showAddToCart:!0}),h.jsx(Ve,{currentProduct:l,type:"you-may-like",maxItems:6,showAddToCart:!0,layout:"grid"})]}),h.jsx(ss,{isOpen:U,onClose:()=>I(!1),title:"Write a Review",children:h.jsx(Ge,{onSubmit:(e,s)=>c(null,null,function*(){if(!i)return void y({type:"error",title:"Login Required",message:"You must be logged in to submit a review."});yield r({productId:l.id,userId:i.id,rating:e,comment:s});const t=yield a(l.id);f(t),y({type:"success",title:"Review Submitted",message:"Thank you for your feedback!"}),I(!1)})})})]})},ks=Object.freeze(Object.defineProperty({__proto__:null,ProductDetailPage:ws,default:ws},Symbol.toStringTag,{value:"Module"})),Cs=()=>{const[e,s]=m(),[t,a]=u.useState(e.get("q")||""),[r,i]=u.useState(null),[l,n]=u.useState([]),{products:o}=Ae();u.useEffect(()=>{const s=e.get("q")||"";if(a(s),s.trim()){const e=o.filter(e=>e.name.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase())||e.category.toLowerCase().includes(s.toLowerCase())||e.tags&&e.tags.some(e=>e.toLowerCase().includes(s.toLowerCase())));n(e)}else n(o)},[e,o]);return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white shadow-sm border-b sticky top-20 z-40",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:h.jsx("form",{onSubmit:e=>{e.preventDefault(),t.trim()&&s({q:t.trim()})},className:"max-w-2xl mx-auto",children:h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:t,onChange:e=>a(e.target.value),placeholder:"Search for products, brands, categories...",className:"w-full pl-12 pr-12 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 text-lg"}),h.jsx(j,{className:"absolute left-4 top-4 h-6 w-6 text-gray-400"}),t&&h.jsx("button",{type:"button",onClick:()=>{a(""),s({})},className:"absolute right-4 top-4 p-1 hover:bg-gray-100 rounded-full",children:h.jsx(v,{className:"h-4 w-4 text-gray-400"})})]})})})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsx("div",{children:e.get("q")?h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:['Search Results for "',e.get("q"),'"']}),h.jsxs("p",{className:"text-gray-600 mt-1",children:[l.length," ",1===l.length?"product":"products"," found"]})]}):h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"All Products"}),h.jsxs("p",{className:"text-gray-600 mt-1",children:[l.length," products available"]})]})}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[h.jsx("option",{children:"Sort by: Relevance"}),h.jsx("option",{children:"Price: Low to High"}),h.jsx("option",{children:"Price: High to Low"}),h.jsx("option",{children:"Newest"}),h.jsx("option",{children:"Best Rating"})]}),h.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[h.jsx(U,{className:"h-4 w-4"}),h.jsx("span",{children:"Filters"})]})]})]}),0===l.length?h.jsx("div",{className:"text-center py-16",children:h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsx("div",{className:"text-gray-400 text-6xl mb-6",children:"🔍"}),h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:e.get("q")?"No products found":"Start your search"}),h.jsx("p",{className:"text-gray-600 mb-8",children:e.get("q")?"Try different keywords or browse our categories to find what you're looking for.":"Enter a search term above to find products, brands, or categories."}),e.get("q")&&h.jsx("button",{onClick:()=>{a(""),s({})},className:"btn-primary hover:scale-105 transition-transform duration-200",children:"Clear Search"})]})}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(e=>h.jsx("div",{children:h.jsx(_e,{product:e})},e.id))}),l.length>20&&h.jsx("div",{className:"text-center mt-12",children:h.jsx("button",{className:"btn-primary hover:scale-105 transition-transform duration-200",children:"Load More Products"})})]}),r&&h.jsx(Ke,{product:r,isOpen:!!r,onClose:()=>i(null)})]})},Ss=Object.freeze(Object.defineProperty({__proto__:null,SearchPage:Cs,default:Cs},Symbol.toStringTag,{value:"Module"})),Ps=()=>{const{items:e,clearWishlist:s}=Te(),{addItem:t}=Oe(),{showInfo:a,showSuccess:r}=Ee(),[i,l]=u.useState(null);return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white shadow-sm border-b",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:h.jsx(F,{className:"h-8 w-8 text-red-500"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Wishlist"}),h.jsxs("p",{className:"text-gray-600 mt-1",children:[e.length," ",1===e.length?"item":"items"," saved for later"]})]})]}),e.length>0&&h.jsxs("div",{className:"flex items-center space-x-4 mt-6 lg:mt-0",children:[h.jsxs("button",{onClick:()=>{const s=e.filter(e=>e.product.stock>0);0!==s.length?(s.forEach(e=>t(e.product)),r(`${s.length} items added to your cart.`,"Added to Cart")):a("None of your wishlist items are currently in stock.","No Items in Stock")},className:"btn-primary",children:[h.jsx(I,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:"Add All to Cart"})]}),h.jsxs("button",{onClick:()=>{e.length>0&&(s(),a("All items have been removed from your wishlist.","Wishlist Cleared"))},className:"btn-secondary",children:[h.jsx(_,{className:"h-5 w-5 mr-2"}),h.jsx("span",{children:"Clear All"})]}),h.jsx("button",{className:"border border-gray-300 text-gray-700 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:h.jsx(g,{className:"h-5 w-5"})})]})]})})}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:0===e.length?h.jsx("div",{className:"text-center py-16",children:h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsx("div",{className:"p-6 bg-gray-100 rounded-full w-24 h-24 mx-auto mb-8 flex items-center justify-center",children:h.jsx(F,{className:"h-12 w-12 text-gray-400"})}),h.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your wishlist is empty"}),h.jsx("p",{className:"text-gray-600 mb-8",children:"Save items you love by clicking the heart icon on any product. They'll appear here for easy access later."}),h.jsx(b,{to:"/products",children:h.jsx("button",{className:"btn-primary",children:"Start Shopping"})})]})}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(e=>h.jsx("div",{children:h.jsx(_e,{product:e.product})},e.product.id))})}),i&&h.jsx(Ke,{product:i,isOpen:!!i,onClose:()=>l(null)})]})},As=Object.freeze(Object.defineProperty({__proto__:null,WishlistPage:Ps,default:Ps},Symbol.toStringTag,{value:"Module"})),Es=()=>{const{items:e,clearCompare:s,removeItem:t}=Me();if(0===e.length)return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:h.jsxs(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[h.jsx("div",{className:"p-6 bg-gray-100 rounded-full w-24 h-24 mx-auto mb-8 flex items-center justify-center",children:h.jsx(q,{className:"h-12 w-12 text-gray-400"})}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Nothing to Compare"}),h.jsx("p",{className:"text-gray-600 mb-8",children:"Add some products to the compare list to see them here."}),h.jsx(b,{to:"/products",children:h.jsx(ls.button,{className:"btn-primary",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Browse Products"})})]})});const a=["Price","Rating","Stock",...[...new Set(e.flatMap(e=>Object.keys(e.specifications||{})))]];return h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Compare Products"}),h.jsxs("button",{onClick:s,className:"flex items-center space-x-2 text-red-600 hover:text-red-800",children:[h.jsx(_,{className:"h-5 w-5"}),h.jsx("span",{children:"Clear All"})]})]}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full border-collapse",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{className:"p-4 text-left font-semibold text-lg w-1/5",children:"Features"}),e.map((e,s)=>h.jsx(ls.th,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"p-4 w-1/5 border-l",children:h.jsxs("div",{className:"relative",children:[h.jsxs(b,{to:`/products/${e.id}`,children:[h.jsx(es,{product:{id:e.id,name:e.name,images:e.images},className:"w-full h-40 object-cover rounded-lg mb-2",alt:e.name,size:"medium"}),h.jsx("h3",{className:"font-semibold text-gray-800 hover:text-indigo-600",children:e.name})]}),h.jsx("button",{onClick:()=>t(e.id),className:"absolute top-2 right-2 bg-white/70 p-1.5 rounded-full text-gray-600 hover:bg-red-500 hover:text-white transition-colors",children:h.jsx(v,{className:"h-4 w-4"})})]})},e.id))]})}),h.jsxs("tbody",{children:[a.map((s,t)=>h.jsxs("tr",{className:"border-t",children:[h.jsx("td",{className:"p-4 font-medium text-gray-700",children:s}),e.map((e,a)=>{var r;let i;switch(s){case"Price":i=h.jsxs("span",{className:"font-bold text-xl text-gray-900",children:["$",e.price]});break;case"Rating":i=h.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((s,t)=>h.jsx(P,{className:"h-5 w-5 "+(t<Math.floor(e.rating)?"text-yellow-400 fill-current":"text-gray-300")},t)),h.jsxs("span",{className:"ml-2 text-gray-600",children:["(",e.rating,")"]})]});break;case"Stock":i=e.stock>0?h.jsxs("span",{className:"text-green-600 flex items-center",children:[h.jsx(R,{className:"h-5 w-5 mr-1"})," In Stock"]}):h.jsxs("span",{className:"text-red-600 flex items-center",children:[h.jsx(v,{className:"h-5 w-5 mr-1"})," Out of Stock"]});break;default:i=(null==(r=e.specifications)?void 0:r[s])||h.jsx("span",{className:"text-gray-400",children:"-"})}return h.jsx(ls.td,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*t+.1*a},className:"p-4 text-center border-l",children:i},e.id)})]},s)),h.jsxs("tr",{className:"border-t",children:[h.jsx("td",{}),e.map(e=>h.jsx("td",{className:"p-4 border-l",children:h.jsx(ls.button,{className:"w-full btn-primary !py-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Add to Cart"})},e.id))]})]})]})})]})})},Fs=Object.freeze(Object.defineProperty({__proto__:null,ComparePage:Es,default:Es},Symbol.toStringTag,{value:"Module"})),Os=()=>{const{products:e}=Ae(),s=[...e].sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime()).slice(0,20);return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white shadow-sm border-b",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:h.jsx(L,{className:"h-8 w-8 text-blue-500"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"New Arrivals"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Check out the latest additions to our collection."})]})]})})}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(e=>h.jsx("div",{children:h.jsx(_e,{product:e})},e.id))})})]})},Ts=Object.freeze(Object.defineProperty({__proto__:null,NewArrivalsPage:Os,default:Os},Symbol.toStringTag,{value:"Module"})),Ds=()=>{const{products:e}=Ae(),s=e.filter(e=>e.originalPrice&&e.originalPrice>e.price);return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white shadow-sm border-b",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-3 bg-red-100 rounded-xl",children:h.jsx(B,{className:"h-8 w-8 text-red-500"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Special Deals"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Unbeatable prices on your favorite products."})]})]})})}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsx(ls.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map((e,s)=>h.jsx(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*s},layout:!0,children:h.jsx(_e,{product:e})},e.id))})})]})},Ms=Object.freeze(Object.defineProperty({__proto__:null,DealsPage:Ds,default:Ds},Symbol.toStringTag,{value:"Module"})),$s=({category:e})=>{const{isMobile:s}=os(),t={"Attar Blends":"/images/attar-blends-CS-YkcLJ.jpg","Islamic Books":"/images/musk-attars-ChSKyZY0.jpg","Hijab Collection":"/images/musk-attars-ChSKyZY0.jpg","Musk Attars":"/images/musk-attars-ChSKyZY0.jpg","Oudh Attars":"/images/oudh-attars-ktsDikLn.jpg","Quran Collection":"/images/musk-attars-ChSKyZY0.jpg"}[e.name]||e.image,a=s?"group relative bg-white rounded-xl shadow-md overflow-hidden cursor-pointer h-64 flex flex-col justify-end touch-manipulation":"group relative bg-white rounded-2xl shadow-lg overflow-hidden cursor-pointer h-80 flex flex-col justify-end",r=s?"text-lg font-bold mb-1 text-white drop-shadow-lg":"text-2xl font-bold mb-2 text-white drop-shadow-lg",i=s?"text-xs font-semibold":"text-sm font-semibold";return h.jsx(b,{to:`/categories/${e.slug}`,children:h.jsxs("div",{className:a,children:[h.jsx("img",{src:t,alt:e.name,className:"absolute inset-0 w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/85 via-black/50 to-transparent"}),h.jsxs("div",{className:"relative p-4 sm:p-6 text-white z-10",children:[h.jsx("h3",{className:r,children:e.name}),h.jsxs("div",{className:"flex items-center text-sm font-medium text-white drop-shadow-md mt-2",children:[h.jsx("span",{children:"Explore Now"}),h.jsx(z,{className:"ml-2 h-4 w-4"})]})]}),h.jsx("div",{className:"absolute top-3 sm:top-4 right-3 sm:right-4 bg-white/95 text-neutral-900 px-2.5 py-0.5 sm:px-3 sm:py-1 rounded-full shadow-lg backdrop-blur-sm",children:h.jsxs("span",{className:i,children:[e.productCount,"+ items"]})})]})})},Us=()=>{const{categories:e}=Ae();return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white shadow-sm border-b",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:h.jsx(w,{className:"h-8 w-8 text-purple-500"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"All Categories"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Explore products across all our categories."})]})]})})}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsx(ls.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.slice(0,6).map((e,s)=>h.jsx(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.07*s},children:h.jsx($s,{category:e})},e.id))})})]})},Is=Object.freeze(Object.defineProperty({__proto__:null,CategoriesPage:Us,default:Us},Symbol.toStringTag,{value:"Module"})),_s=()=>{const{collections:e,loading:s}=$e(),[t,a]=u.useState(""),[r,i]=u.useState("all"),[l,n]=u.useState("all"),[o,d]=u.useState("name"),[c,m]=u.useState("grid"),x=u.useMemo(()=>{let s=e.filter(e=>{var s;const a=e.name.toLowerCase().includes(t.toLowerCase())||(null==(s=e.description)?void 0:s.toLowerCase().includes(t.toLowerCase()))||e.tags.some(e=>e.toLowerCase().includes(t.toLowerCase())),i="all"===r||e.type===r,n="all"===l||e.status===l;return a&&i&&n});return s.sort((e,s)=>{var t,a;switch(o){case"name":default:return e.name.localeCompare(s.name);case"type":return e.type.localeCompare(s.type);case"price":return(e.price||0)-(s.price||0);case"newest":return((null==(t=s.createdAt)?void 0:t.getTime())||0)-((null==(a=e.createdAt)?void 0:a.getTime())||0);case"featured":return Number(s.featured)-Number(e.featured)}}),s},[e,t,r,l,o]);return s?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx(Xe,{size:"lg"})}):h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-700 text-white",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:h.jsxs(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center",children:[h.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-4",children:"Exclusive Collections"}),h.jsx("p",{className:"text-xl md:text-2xl text-indigo-100 max-w-3xl mx-auto",children:"Discover our curated special collections featuring limited editions, seasonal blends, and exclusive collaborations crafted for the discerning connoisseur"})]})})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-4",children:[h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"relative",children:[h.jsx(j,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),h.jsx("input",{type:"text",placeholder:"Search collections...",value:t,onChange:e=>a(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})}),h.jsxs("div",{className:"flex flex-wrap gap-3",children:[h.jsxs("select",{value:r,onChange:e=>i(e.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[h.jsx("option",{value:"all",children:"All Types"}),h.jsx("option",{value:"heritage",children:"Heritage"}),h.jsx("option",{value:"seasonal",children:"Seasonal"}),h.jsx("option",{value:"limited",children:"Limited"}),h.jsx("option",{value:"exclusive",children:"Exclusive"}),h.jsx("option",{value:"signature",children:"Signature"}),h.jsx("option",{value:"modern",children:"Modern"})]}),h.jsxs("select",{value:l,onChange:e=>n(e.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[h.jsx("option",{value:"all",children:"All Status"}),h.jsx("option",{value:"active",children:"Available"}),h.jsx("option",{value:"coming_soon",children:"Coming Soon"}),h.jsx("option",{value:"sold_out",children:"Sold Out"})]}),h.jsxs("select",{value:o,onChange:e=>d(e.target.value),className:"px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[h.jsx("option",{value:"name",children:"Name"}),h.jsx("option",{value:"type",children:"Type"}),h.jsx("option",{value:"price",children:"Price"}),h.jsx("option",{value:"newest",children:"Newest"}),h.jsx("option",{value:"featured",children:"Featured"})]}),h.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[h.jsx("button",{onClick:()=>m("grid"),className:"px-3 py-3 "+("grid"===c?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:h.jsx(w,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>m("list"),className:"px-3 py-3 "+("list"===c?"bg-indigo-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"),children:h.jsx(k,{className:"h-5 w-5"})})]})]})]})}),h.jsx("div",{className:"mb-6",children:h.jsxs("p",{className:"text-gray-600",children:["Showing ",x.length," of ",e.length," collections"]})}),0===x.length?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(Y,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No collections found"}),h.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Try adjusting your search or filter criteria."})]}):h.jsx("div",{className:"grid"===c?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-6",children:x.map((e,s)=>{const t=(e=>{switch(e){case"heritage":return H;case"seasonal":return K;case"limited":return G;case"exclusive":return V;case"signature":return P;case"modern":return W;default:return Y}})(e.type),a=(e=>{const s={active:{text:"Available",color:"bg-green-100 text-green-800"},inactive:{text:"Unavailable",color:"bg-gray-100 text-gray-800"},coming_soon:{text:"Coming Soon",color:"bg-blue-100 text-blue-800"},sold_out:{text:"Sold Out",color:"bg-red-100 text-red-800"}};return s[e]||s.active})(e.status);return h.jsxs(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"group bg-white rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 overflow-hidden "+("list"===c?"flex":""),children:[h.jsxs("div",{className:"relative overflow-hidden "+("list"===c?"w-48 h-32":"h-48"),children:[h.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:e=>{e.target.src="/placeholder-collection.jpg"}}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),h.jsx("div",{className:"absolute top-3 left-3",children:h.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.color}`,children:a.text})}),e.discount&&e.discount>0&&h.jsx("div",{className:"absolute top-3 right-3",children:h.jsxs("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:["-",e.discount,"%"]})}),e.featured&&h.jsx("div",{className:"absolute bottom-3 left-3",children:h.jsxs("span",{className:"bg-yellow-500 text-black px-2 py-1 rounded-full text-xs font-bold flex items-center space-x-1",children:[h.jsx(P,{className:"h-3 w-3"}),h.jsx("span",{children:"Featured"})]})}),e.isExclusive&&h.jsx("div",{className:"absolute bottom-3 right-3",children:h.jsxs("span",{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center space-x-1",children:[h.jsx(H,{className:"h-3 w-3"}),h.jsx("span",{children:"Exclusive"})]})})]}),h.jsxs("div",{className:"p-6 "+("list"===c?"flex-1":""),children:[h.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[h.jsx(t,{className:"h-4 w-4 text-indigo-600"}),h.jsx("span",{className:"text-xs font-medium text-indigo-600 uppercase tracking-wider",children:e.type})]}),h.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2",children:e.name}),h.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:e.shortDescription||e.description}),h.jsxs("div",{className:"flex items-center space-x-1 mb-4",children:[h.jsx(B,{className:"h-4 w-4 text-gray-400"}),h.jsxs("span",{className:"text-sm text-gray-500",children:[e.productCount," products"]})]}),e.price&&h.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[h.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",e.price]}),e.originalPrice&&e.originalPrice>e.price&&h.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["$",e.originalPrice]})]}),h.jsxs(b,{to:`/collections/${e.slug}`,className:"w-full inline-flex items-center justify-center px-4 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-sm font-medium rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 group",children:[h.jsx("span",{children:"Explore Collection"}),h.jsx(z,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})]})]},e.id)})})]})]})},qs=Object.freeze(Object.defineProperty({__proto__:null,CollectionsPage:_s,default:_s},Symbol.toStringTag,{value:"Module"})),Rs=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const[e,s]=u.useState("login"),[t,a]=u.useState(!1),[r,i]=u.useState(!1),[l,d]=u.useState(!1),[m,x]=u.useState(!1),{signIn:p,signUp:g,user:y}=Fe(),{showNotification:b}=Ee(),f=J(),j=Z(),[N,v]=u.useState({email:"",password:"",confirmPassword:"",fullName:""}),[w,k]=u.useState({});u.useEffect(()=>{y&&f("/dashboard")},[y,f]),u.useEffect(()=>{const e=new URLSearchParams(j.search).get("mode");"signup"===e?s("signup"):"forgot"===e&&s("forgot")},[j.search]);const C=(e,s)=>{v(t=>o(n({},t),{[e]:s})),w[e]&&k(s=>o(n({},s),{[e]:""}))};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-100 flex items-center justify-center p-4",children:h.jsxs("div",{className:"w-full max-w-md",children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[h.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 p-6 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx("span",{className:"text-white text-2xl font-bold",children:"S"})}),h.jsxs("h1",{className:"text-2xl font-bold text-white",children:["login"===e&&"Welcome Back","signup"===e&&"Create Account","forgot"===e&&"Reset Password"]}),h.jsxs("p",{className:"text-purple-100 mt-2",children:["login"===e&&"Sign in to your account","signup"===e&&"Join our community","forgot"===e&&"Enter your email to reset your password"]})]}),h.jsx("div",{className:"p-6",children:h.jsxs("form",{onSubmit:t=>c(null,null,function*(){if(t.preventDefault(),(()=>{const s={};var t;return N.email?(t=N.email,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(s.email="Please enter a valid email address")):s.email="Email is required","forgot"===e||N.password?"forgot"===e||N.password.length>=8||(s.password="Password must be at least 8 characters"):s.password="Password is required","signup"===e&&(N.fullName.trim()||(s.fullName="Full name is required"),N.password!==N.confirmPassword&&(s.confirmPassword="Passwords do not match")),k(s),0===Object.keys(s).length})()){d(!0);try{"login"===e?(yield p(N.email,N.password),b({type:"success",title:"Welcome back!",message:"Successfully logged in."}),f("/dashboard")):"signup"===e?(yield g(N.email,N.password,{fullName:N.fullName}),b({type:"success",title:"Account created!",message:"Account created successfully!"}),f("/dashboard")):"forgot"===e&&(b({type:"success",title:"Password reset sent!",message:"Password reset link sent to your email!"}),s("login"))}catch(a){const e=a instanceof Error?a.message:"An error occurred. Please try again.";b({type:"error",title:"Authentication failed",message:e})}finally{d(!1)}}}),className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Q,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"email",value:N.email,onChange:e=>C("email",e.target.value),className:`block w-full pl-10 pr-3 py-3 border ${w.email?"border-red-300":"border-gray-300"} rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors`,placeholder:"you@example.com",disabled:l,required:!0})]}),w.email&&h.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[h.jsx(X,{className:"h-4 w-4 mr-1"}),w.email]})]}),"signup"===e&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(ee,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",value:N.fullName,onChange:e=>C("fullName",e.target.value),className:`block w-full pl-10 pr-3 py-3 border ${w.fullName?"border-red-300":"border-gray-300"} rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors`,placeholder:"John Doe",disabled:l,required:!0})]}),w.fullName&&h.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[h.jsx(X,{className:"h-4 w-4 mr-1"}),w.fullName]})]}),"forgot"!==e&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(se,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:t?"text":"password",value:N.password,onChange:e=>C("password",e.target.value),className:`block w-full pl-10 pr-10 py-3 border ${w.password?"border-red-300":"border-gray-300"} rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors`,placeholder:"••••••••",disabled:l,required:!0}),h.jsx("button",{type:"button",onClick:()=>a(!t),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":t?"Hide password":"Show password",children:t?h.jsx(te,{className:"h-5 w-5 text-gray-500"}):h.jsx(ae,{className:"h-5 w-5 text-gray-500"})})]}),w.password&&h.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[h.jsx(X,{className:"h-4 w-4 mr-1"}),w.password]})]}),"signup"===e&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(se,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:r?"text":"password",value:N.confirmPassword,onChange:e=>C("confirmPassword",e.target.value),className:`block w-full pl-10 pr-10 py-3 border ${w.confirmPassword?"border-red-300":"border-gray-300"} rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-colors`,placeholder:"••••••••",disabled:l,required:!0}),h.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":r?"Hide password":"Show password",children:r?h.jsx(te,{className:"h-5 w-5 text-gray-500"}):h.jsx(ae,{className:"h-5 w-5 text-gray-500"})})]}),w.confirmPassword&&h.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[h.jsx(X,{className:"h-4 w-4 mr-1"}),w.confirmPassword]})]}),"login"===e&&h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:m,onChange:e=>x(e.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",disabled:l}),h.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),h.jsx("div",{children:h.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:l?h.jsxs(h.Fragment,{children:[h.jsx(re,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"login"===e?"Sign In":"signup"===e?"Create Account":"Send Reset Link"})}),h.jsx("div",{className:"text-center text-sm text-gray-600",children:"login"===e?h.jsxs("p",{children:["Don't have an account?"," ",h.jsx("button",{type:"button",onClick:()=>s("signup"),className:"font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none",disabled:l,children:"Sign up"})]}):"signup"===e?h.jsxs("p",{children:["Already have an account?"," ",h.jsx("button",{type:"button",onClick:()=>s("login"),className:"font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none",disabled:l,children:"Sign in"})]}):h.jsxs("p",{children:["Remember your password?"," ",h.jsx("button",{type:"button",onClick:()=>s("login"),className:"font-medium text-indigo-600 hover:text-indigo-500 focus:outline-none",disabled:l,children:"Sign in"})]})})]})})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsx("button",{onClick:()=>{f("/")},className:"inline-flex items-center text-sm font-medium text-gray-600 hover:text-indigo-600 transition-colors focus:outline-none",children:"← Return to Home"})})]})})}},Symbol.toStringTag,{value:"Module"})),Ls=()=>h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-neutral-50 to-neutral-100 flex items-center justify-center px-4",children:h.jsx("div",{className:"max-w-2xl mx-auto text-center",children:h.jsxs(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[h.jsx(ls.div,{className:"text-8xl md:text-9xl font-bold text-neutral-200 mb-8",initial:{scale:.8},animate:{scale:1},transition:{duration:.8,type:"spring",bounce:.4},children:"404"}),h.jsx(ls.h1,{className:"text-3xl md:text-4xl font-bold text-neutral-900 mb-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.6},children:"Oops! Page Not Found"}),h.jsx(ls.p,{className:"text-lg text-neutral-600 mb-8 max-w-md mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.6},children:"The page you're looking for doesn't exist or has been moved. Let's get you back on track!"}),h.jsxs(ls.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.6},children:[h.jsxs(b,{to:"/",className:"inline-flex items-center px-6 py-3 bg-neutral-900 text-white rounded-lg font-medium hover:bg-neutral-800 transition-colors duration-200 shadow-lg hover:shadow-xl",children:[h.jsx(f,{className:"w-5 h-5 mr-2"}),"Go Home"]}),h.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center px-6 py-3 bg-white text-neutral-700 border border-neutral-300 rounded-lg font-medium hover:bg-neutral-50 transition-colors duration-200",children:[h.jsx(p,{className:"w-5 h-5 mr-2"}),"Go Back"]})]}),h.jsxs(ls.div,{className:"mt-12 pt-8 border-t border-neutral-200",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.6},children:[h.jsx("p",{className:"text-sm text-neutral-500 mb-4",children:"Or try these popular pages:"}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[h.jsxs(b,{to:"/products",className:"inline-flex items-center px-4 py-2 text-sm text-neutral-600 hover:text-neutral-900 transition-colors duration-200",children:[h.jsx(ie,{className:"w-4 h-4 mr-2"}),"Products"]}),h.jsxs(b,{to:"/categories",className:"inline-flex items-center px-4 py-2 text-sm text-neutral-600 hover:text-neutral-900 transition-colors duration-200",children:[h.jsx(j,{className:"w-4 h-4 mr-2"}),"Categories"]}),h.jsx(b,{to:"/deals",className:"inline-flex items-center px-4 py-2 text-sm text-neutral-600 hover:text-neutral-900 transition-colors duration-200",children:"Deals"}),h.jsx(b,{to:"/new-arrivals",className:"inline-flex items-center px-4 py-2 text-sm text-neutral-600 hover:text-neutral-900 transition-colors duration-200",children:"New Arrivals"})]})]})]})})}),Bs=Object.freeze(Object.defineProperty({__proto__:null,NotFoundPage:Ls,default:Ls},Symbol.toStringTag,{value:"Module"})),zs=()=>{const{user:e,loading:s}=Fe();if(s)return h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx(Xe,{})});if(!e)return h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Please sign in to access your dashboard."}),h.jsx("button",{onClick:()=>window.location.href="/",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Go to Homepage"})]})});return h.jsx("div",{className:"min-h-screen bg-gray-50",children:(()=>{switch((null==e?void 0:e.role)||"customer"){case"admin":return h.jsx(rs,{});case"seller":return h.jsx(as,{});default:return h.jsx(ts,{})}})()})},Ys=Object.freeze(Object.defineProperty({__proto__:null,DashboardPage:zs,default:zs},Symbol.toStringTag,{value:"Module"})),Hs=()=>{const{user:e,signOut:s,updateProfile:t}=Fe(),{showNotification:a}=Ee(),{isOnline:r}=(()=>{const[e,s]=le.useState(navigator.onLine);return le.useEffect(()=>{const e=()=>s(!0),t=()=>s(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),e})(),[i,l]=u.useState("profile"),[d,m]=u.useState(!1),[x,p]=u.useState(!1),[g,y]=u.useState(!1),[b,f]=u.useState(null),[j]=u.useState({total:12,pending:2,completed:9,cancelled:1,totalSpent:2450}),[N]=u.useState({total:8,inStock:6,onSale:3}),[w,k]=u.useState({fullName:(null==e?void 0:e.name)||"",email:(null==e?void 0:e.email)||"",phone:(null==e?void 0:e.phone)||"",dateOfBirth:"",gender:"",bio:"",website:"",address:{line1:"",line2:"",city:"",state:"",postalCode:"",country:"United States"},preferences:{theme:"light",language:"en",currency:"USD",timezone:"UTC",emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,marketingEmails:!1,newsletterSubscription:!1},security:{twoFactorEnabled:!1,loginNotifications:!0,sessionTimeout:30},social:{},avatarUrl:(null==e?void 0:e.avatar)||""}),C=[{id:"profile",name:"Profile",icon:ee,description:"Personal information"},{id:"orders",name:"Orders",icon:de,description:"Order history"},{id:"wishlist",name:"Wishlist",icon:F,description:"Saved items"},{id:"addresses",name:"Addresses",icon:ce,description:"Shipping addresses"},{id:"security",name:"Security",icon:me,description:"Account security"},{id:"preferences",name:"Preferences",icon:xe,description:"App settings"},{id:"data",name:"Data",icon:ue,description:"Export & privacy"}],S=u.useCallback(()=>c(null,null,function*(){if(r){p(!0);try{yield new Promise(e=>setTimeout(e,1e3)),yield t({name:w.fullName,phone:w.phone,avatar:w.avatarUrl}),a({type:"success",title:"Profile Updated",message:"Your profile has been updated successfully."}),m(!1)}catch(e){a({type:"error",title:"Update Failed",message:"Failed to update profile. Please try again."})}finally{p(!1)}}else a({type:"warning",title:"Offline Mode",message:"Profile updates require an internet connection."})}),[w,t,a,r]),P=u.useCallback(e=>c(null,null,function*(){if(e){p(!0);try{const s=URL.createObjectURL(e);k(e=>o(n({},e),{avatarUrl:s})),f(e),a({type:"success",title:"Avatar Updated",message:"Profile picture updated successfully."})}catch(s){a({type:"error",title:"Upload Failed",message:"Failed to upload avatar. Please try again."})}finally{p(!1)}}}),[a]),A=u.useCallback(()=>c(null,null,function*(){p(!0);try{const e={profile:w,orders:j,wishlist:N,exportDate:(new Date).toISOString()},s=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),t=URL.createObjectURL(s),r=document.createElement("a");r.href=t,r.download=`profile-data-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t),a({type:"success",title:"Data Exported",message:"Your data has been exported successfully."})}catch(e){a({type:"error",title:"Export Failed",message:"Failed to export data. Please try again."})}finally{p(!1)}}),[w,j,N,a]);return u.useEffect(()=>{"serviceWorker"in navigator&&"PushManager"in window&&navigator.serviceWorker.ready.then(e=>e.pushManager.getSubscription()).then(e=>{!e&&w.preferences.pushNotifications&&Notification.requestPermission().then(e=>{"granted"===e&&a({type:"success",title:"Notifications Enabled",message:"You'll receive important updates about your orders."})})}).catch(console.error);const e=()=>{a({type:"success",title:"Back Online",message:"Your profile data will sync automatically."})},s=()=>{a({type:"warning",title:"Offline Mode",message:"Some features may be limited while offline."})};return window.addEventListener("online",e),window.addEventListener("offline",s),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}},[w.preferences.pushNotifications,a]),e?h.jsxs("div",{className:"min-h-screen bg-background-primary",children:[h.jsx(is,{}),h.jsxs("div",{className:"container mx-auto px-4 py-6",children:[h.jsx("div",{className:"mb-8",children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"My Profile"}),h.jsx("p",{className:"text-text-secondary",children:"Manage your account settings and preferences"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:()=>m(!d),className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[d?h.jsx(v,{className:"w-4 h-4"}):h.jsx(ne,{className:"w-4 h-4"}),d?"Cancel":"Edit Profile"]}),h.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[h.jsx(oe,{className:"w-4 h-4"}),"Sign Out"]})]})]})}),h.jsx("div",{className:"mb-8",children:h.jsx("div",{className:"border-b border-border-primary",children:h.jsx("nav",{className:"flex space-x-8 overflow-x-auto",children:C.map(e=>{const s=e.icon;return h.jsxs("button",{onClick:()=>l(e.id),className:"flex items-center gap-2 py-4 px-2 border-b-2 font-medium text-sm whitespace-nowrap transition-colors "+(i===e.id?"border-primary-600 text-primary-600":"border-transparent text-text-secondary hover:text-text-primary hover:border-border-secondary"),children:[h.jsx(s,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:e.name})]},e.id)})})})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"bg-background-secondary rounded-xl p-6 sticky top-6",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsxs("div",{className:"relative inline-block",children:[h.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white text-2xl font-bold overflow-hidden",children:w.avatarUrl?h.jsx("img",{src:w.avatarUrl,alt:"Profile",className:"w-full h-full object-cover"}):w.fullName.charAt(0).toUpperCase()}),d&&h.jsxs("label",{className:"absolute bottom-0 right-0 p-2 bg-primary-600 text-white rounded-full cursor-pointer hover:bg-primary-700 transition-colors",children:[h.jsx(he,{className:"w-4 h-4"}),h.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];t&&P(t)}})]})]}),h.jsx("h3",{className:"text-lg font-semibold text-text-primary mt-3",children:w.fullName||"Your Name"}),h.jsx("p",{className:"text-text-secondary text-sm",children:w.email}),!r&&h.jsxs("div",{className:"mt-3 flex items-center justify-center gap-2 text-orange-600 text-sm",children:[h.jsx(X,{className:"w-4 h-4"}),"Offline Mode"]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between p-3 bg-background-tertiary rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(de,{className:"w-4 h-4 text-primary-600"}),h.jsx("span",{className:"text-sm text-text-secondary",children:"Orders"})]}),h.jsx("span",{className:"font-semibold text-text-primary",children:j.total})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-background-tertiary rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(F,{className:"w-4 h-4 text-red-500"}),h.jsx("span",{className:"text-sm text-text-secondary",children:"Wishlist"})]}),h.jsx("span",{className:"font-semibold text-text-primary",children:N.total})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-background-tertiary rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(pe,{className:"w-4 h-4 text-green-500"}),h.jsx("span",{className:"text-sm text-text-secondary",children:"Total Spent"})]}),h.jsxs("span",{className:"font-semibold text-text-primary",children:["$",j.totalSpent.toFixed(2)]})]})]})]})}),h.jsx("div",{className:"lg:col-span-3",children:h.jsxs(ns,{mode:"wait",children:["profile"===i&&h.jsxs(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background-secondary rounded-xl p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"Personal Information"}),d&&h.jsxs("button",{onClick:S,disabled:x,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[x?h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):h.jsx(ge,{className:"w-4 h-4"}),"Save Changes"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Full Name"}),h.jsx("input",{type:"text",value:w.fullName,onChange:e=>k(s=>o(n({},s),{fullName:e.target.value})),disabled:!d,className:"w-full px-4 py-3 bg-background-primary border border-border-primary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50",placeholder:"Enter your full name"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Email Address"}),h.jsx("input",{type:"email",value:w.email,onChange:e=>k(s=>o(n({},s),{email:e.target.value})),disabled:!d,className:"w-full px-4 py-3 bg-background-primary border border-border-primary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50",placeholder:"Enter your email"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Phone Number"}),h.jsx("input",{type:"tel",value:w.phone,onChange:e=>k(s=>o(n({},s),{phone:e.target.value})),disabled:!d,className:"w-full px-4 py-3 bg-background-primary border border-border-primary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50",placeholder:"Enter your phone number"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-text-primary mb-2",children:"Date of Birth"}),h.jsx("input",{type:"date",value:w.dateOfBirth,onChange:e=>k(s=>o(n({},s),{dateOfBirth:e.target.value})),disabled:!d,className:"w-full px-4 py-3 bg-background-primary border border-border-primary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 disabled:opacity-50"})]})]})]},"profile"),"orders"===i&&h.jsxs(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background-secondary rounded-xl p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-6",children:"Order History"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[h.jsx("div",{className:"bg-background-tertiary rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(de,{className:"w-8 h-8 text-blue-500"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-text-primary",children:j.total}),h.jsx("p",{className:"text-sm text-text-secondary",children:"Total Orders"})]})]})}),h.jsx("div",{className:"bg-background-tertiary rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:h.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-text-primary",children:j.pending}),h.jsx("p",{className:"text-sm text-text-secondary",children:"Pending"})]})]})}),h.jsx("div",{className:"bg-background-tertiary rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:h.jsx(R,{className:"w-4 h-4 text-green-500"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-text-primary",children:j.completed}),h.jsx("p",{className:"text-sm text-text-secondary",children:"Completed"})]})]})}),h.jsx("div",{className:"bg-background-tertiary rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(pe,{className:"w-8 h-8 text-green-500"}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-2xl font-bold text-text-primary",children:["$",j.totalSpent.toFixed(2)]}),h.jsx("p",{className:"text-sm text-text-secondary",children:"Total Spent"})]})]})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"Recent Orders"}),[1,2,3].map(e=>h.jsxs("div",{className:"border border-border-primary rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"font-medium text-text-primary",children:["Order #ORD-2024-",e.toString().padStart(4,"0")]}),h.jsxs("p",{className:"text-sm text-text-secondary",children:["Placed on January ",e+10,", 2024"]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"font-medium text-text-primary",children:["$",(200*Math.random()+50).toFixed(2)]}),h.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+(1===e?"bg-green-100 text-green-800":2===e?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:1===e?"Delivered":2===e?"Shipped":"Processing"})]})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-background-primary rounded-lg flex items-center justify-center",children:h.jsx(de,{className:"w-6 h-6 text-text-secondary"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm text-text-primary",children:"Premium Perfume Collection"}),h.jsxs("p",{className:"text-xs text-text-secondary",children:[Math.floor(3*Math.random())+1," items"]})]}),h.jsx("button",{className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"View Details"})]})]},e))]})]},"orders"),"wishlist"===i&&h.jsxs(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background-secondary rounded-xl p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-text-primary",children:"My Wishlist"}),h.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[h.jsx(F,{className:"w-4 h-4"}),N.total," items saved"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[h.jsx("div",{className:"bg-background-tertiary rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(F,{className:"w-6 h-6 text-red-500"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xl font-bold text-text-primary",children:N.total}),h.jsx("p",{className:"text-sm text-text-secondary",children:"Total Items"})]})]})}),h.jsx("div",{className:"bg-background-tertiary rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-green-100 rounded-full flex items-center justify-center",children:h.jsx(R,{className:"w-3 h-3 text-green-500"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xl font-bold text-text-primary",children:N.inStock}),h.jsx("p",{className:"text-sm text-text-secondary",children:"In Stock"})]})]})}),h.jsx("div",{className:"bg-background-tertiary rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-xs font-bold text-orange-500",children:"%"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xl font-bold text-text-primary",children:N.onSale}),h.jsx("p",{className:"text-sm text-text-secondary",children:"On Sale"})]})]})})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(e=>h.jsxs("div",{className:"border border-border-primary rounded-lg p-4 group hover:shadow-md transition-shadow",children:[h.jsx("div",{className:"aspect-square bg-background-primary rounded-lg mb-3 flex items-center justify-center",children:h.jsx(de,{className:"w-8 h-8 text-text-secondary"})}),h.jsxs("h4",{className:"font-medium text-text-primary mb-1",children:["Premium Perfume ",e]}),h.jsx("p",{className:"text-sm text-text-secondary mb-2",children:"Luxury Collection"}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("span",{className:"font-bold text-text-primary",children:["$",(100*Math.random()+50).toFixed(2)]}),Math.random()>.5&&h.jsx("span",{className:"text-xs text-red-500 ml-2",children:"On Sale!"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{className:"p-1 text-text-secondary hover:text-red-500 transition-colors",children:h.jsx(_,{className:"w-4 h-4"})}),h.jsx("button",{className:"px-3 py-1 bg-primary-600 text-white text-sm rounded hover:bg-primary-700 transition-colors",children:"Add to Cart"})]})]})]},e))})]},"wishlist"),"security"===i&&h.jsxs(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background-secondary rounded-xl p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-6",children:"Security Settings"}),h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"border border-border-primary rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-text-primary",children:"Password"}),h.jsx("p",{className:"text-sm text-text-secondary",children:"Last changed 3 months ago"})]}),h.jsx("button",{className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Change Password"})]})}),h.jsxs("div",{className:"border border-border-primary rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-text-primary",children:"Two-Factor Authentication"}),h.jsx("p",{className:"text-sm text-text-secondary",children:w.security.twoFactorEnabled?"Enabled":"Add an extra layer of security"})]}),h.jsxs("button",{onClick:()=>k(e=>o(n({},e),{security:o(n({},e.security),{twoFactorEnabled:!e.security.twoFactorEnabled})})),className:"px-4 py-2 rounded-lg transition-colors "+(w.security.twoFactorEnabled?"bg-red-600 text-white hover:bg-red-700":"bg-primary-600 text-white hover:bg-primary-700"),children:[w.security.twoFactorEnabled?"Disable":"Enable"," 2FA"]})]}),w.security.twoFactorEnabled&&h.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(me,{className:"w-4 h-4 text-green-600"}),h.jsx("span",{className:"text-sm font-medium text-green-800",children:"Two-factor authentication is active"})]})})]}),h.jsx("div",{className:"border border-border-primary rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-text-primary",children:"Login Notifications"}),h.jsx("p",{className:"text-sm text-text-secondary",children:"Get notified of new sign-ins"})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:w.security.loginNotifications,onChange:e=>k(s=>o(n({},s),{security:o(n({},s.security),{loginNotifications:e.target.checked})})),className:"sr-only peer"}),h.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})}),h.jsx("div",{className:"border border-border-primary rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-text-primary",children:"Session Timeout"}),h.jsx("p",{className:"text-sm text-text-secondary",children:"Automatically sign out after inactivity"})]}),h.jsxs("select",{value:w.security.sessionTimeout,onChange:e=>k(s=>o(n({},s),{security:o(n({},s.security),{sessionTimeout:parseInt(e.target.value)})})),className:"px-3 py-2 bg-background-primary border border-border-primary rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[h.jsx("option",{value:15,children:"15 minutes"}),h.jsx("option",{value:30,children:"30 minutes"}),h.jsx("option",{value:60,children:"1 hour"}),h.jsx("option",{value:120,children:"2 hours"}),h.jsx("option",{value:0,children:"Never"})]})]})})]})]},"security"),"data"===i&&h.jsxs(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-background-secondary rounded-xl p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-6",children:"Data & Privacy"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"border border-border-primary rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-text-primary",children:"Export Your Data"}),h.jsx("p",{className:"text-sm text-text-secondary",children:"Download a copy of your account data"})]}),h.jsxs("button",{onClick:A,disabled:x,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[x?h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):h.jsx(ue,{className:"w-4 h-4"}),"Export Data"]})]}),h.jsxs("div",{className:"text-sm text-text-secondary",children:[h.jsx("p",{children:"Your export will include:"}),h.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[h.jsx("li",{children:"Profile information"}),h.jsx("li",{children:"Order history"}),h.jsx("li",{children:"Wishlist items"}),h.jsx("li",{children:"Addresses"}),h.jsx("li",{children:"Preferences"})]})]})]}),h.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-red-800",children:"Delete Account"}),h.jsx("p",{className:"text-sm text-red-600",children:"Permanently delete your account and all data"})]}),h.jsx("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Account"})]}),h.jsxs("div",{className:"text-sm text-red-600",children:[h.jsx("p",{className:"font-medium",children:"This action cannot be undone. This will:"}),h.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[h.jsx("li",{children:"Delete your profile and account"}),h.jsx("li",{children:"Remove all your orders and data"}),h.jsx("li",{children:"Cancel any active subscriptions"}),h.jsx("li",{children:"Remove you from all mailing lists"})]})]})]})]})]},"data")]})})]})]})]}):h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background-primary",children:h.jsxs("div",{className:"text-center",children:[h.jsx(ee,{className:"w-16 h-16 text-text-secondary mx-auto mb-4"}),h.jsx("h2",{className:"text-xl font-semibold text-text-primary mb-2",children:"Sign In Required"}),h.jsx("p",{className:"text-text-secondary",children:"Please sign in to view your profile."})]})})},Ws=Object.freeze(Object.defineProperty({__proto__:null,ProductionProfilePage:Hs,default:Hs},Symbol.toStringTag,{value:"Module"})),Vs=({currentStep:e,totalSteps:s,onStepChange:t,onBack:a,children:r,stepTitle:i,canProceed:l,isLoading:n=!1})=>{const{isMobile:o}=os();if(!o)return h.jsx(h.Fragment,{children:r});const d=e/s*100;return h.jsxs("div",{className:"min-h-screen bg-neutral-50 flex flex-col",children:[h.jsx("div",{className:"bg-white border-b border-neutral-200 sticky top-0 z-10",children:h.jsxs("div",{className:"px-3 sm:px-4 py-3",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("button",{onClick:a,className:"p-2 -ml-2 rounded-lg hover:bg-neutral-100 transition-colors active:bg-neutral-200 touch-manipulation",children:h.jsx(p,{className:"h-5 w-5 text-neutral-600"})}),h.jsx("h1",{className:"text-base sm:text-lg font-semibold text-neutral-900",children:i}),h.jsxs("div",{className:"text-xs sm:text-sm text-neutral-500",children:[e,"/",s]})]}),h.jsx("div",{className:"w-full bg-neutral-200 rounded-full h-1.5 sm:h-2",children:h.jsx(motion.div,{className:"bg-neutral-900 h-1.5 sm:h-2 rounded-full",initial:{width:0},animate:{width:`${d}%`},transition:{duration:.3}})})]})}),h.jsx("div",{className:"flex-1 p-3 sm:p-4",children:h.jsx(AnimatePresence,{mode:"wait",children:h.jsx(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:r},e)})})]})},Gs=({label:e,type:s="text",name:t,value:a,onChange:r,placeholder:i,required:l=!1,error:n,icon:o})=>{const d=t?`mobile-input-${t}`:void 0;return h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{htmlFor:d,className:"block text-sm font-medium text-neutral-900",children:[e," ",l&&h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"relative",children:[o&&h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(o,{className:"h-5 w-5 text-neutral-400"})}),h.jsx("input",{id:d,type:s,name:t,value:a,onChange:r,placeholder:i,required:l,className:`\n            w-full px-4 py-4 text-base border border-neutral-300 rounded-xl\n            focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500\n            transition-colors duration-200\n            ${o?"pl-10":""}\n            ${n?"border-red-500 focus:ring-red-500 focus:border-red-500":""}\n            touch-manipulation\n          `})]}),n&&h.jsx("p",{className:"text-sm text-red-600",role:"alert",children:n})]})},Ks=({selectedMethod:e,onMethodChange:s})=>{const t=[{id:"card",name:"Credit/Debit Card",icon:pe,description:"Visa, Mastercard, Amex",available:!0},{id:"apple-pay",name:"Apple Pay",icon:be,description:"Touch ID or Face ID",available:!0},{id:"google-pay",name:"Google Pay",icon:fe,description:"Quick and secure",available:!0}];return h.jsxs("div",{className:"space-y-3",children:[h.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Payment Method"}),h.jsx("div",{className:"space-y-3",children:t.map(t=>h.jsx(motion.button,{onClick:()=>s(t.id),disabled:!t.available,className:`\n              w-full p-3 sm:p-4 rounded-xl border-2 transition-all duration-200\n              ${e===t.id?"border-neutral-900 bg-neutral-50":"border-neutral-200 bg-white hover:border-neutral-300"}\n              ${t.available?"":"opacity-50 cursor-not-allowed"}\n              touch-manipulation\n            `,whileTap:{scale:.98},children:h.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[h.jsx("div",{className:`\n                p-2 rounded-lg\n                ${e===t.id?"bg-neutral-900 text-white":"bg-neutral-100 text-neutral-600"}\n              `,children:h.jsx(t.icon,{className:"h-5 w-5 sm:h-6 sm:w-6"})}),h.jsxs("div",{className:"flex-1 text-left",children:[h.jsx("div",{className:"font-medium text-neutral-900 text-sm sm:text-base",children:t.name}),h.jsx("div",{className:"text-xs sm:text-sm text-neutral-500",children:t.description})]}),e===t.id&&h.jsx(ye,{className:"h-4 w-4 sm:h-5 sm:w-5 text-neutral-900"})]})},t.id))})]})},Js=({currentStep:e,totalSteps:s,onBack:t,onNext:a,nextLabel:r="Continue",canProceed:i,isLoading:l=!1})=>{const n=e===s;return h.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-neutral-200 p-3 sm:p-4 safe-area-bottom",children:h.jsxs("div",{className:"flex space-x-2 sm:space-x-3",children:[e>1&&t&&h.jsx(ds,{onClick:t,variant:"secondary",size:"comfortable",className:"flex-1",children:"Back"}),a&&h.jsx(ds,{onClick:a,disabled:!i||l,loading:l,variant:"primary",size:"comfortable",className:"flex-1",icon:n?ye:z,children:n?"Place Order":r})]})})},Zs=()=>h.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-6",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:h.jsx(se,{className:"h-5 w-5 text-green-600"})}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-green-900",children:"Secure Checkout"}),h.jsx("div",{className:"text-sm text-green-700",children:"Your information is protected with 256-bit SSL encryption"})]})]})}),Qs=({formData:e,onChange:s,errors:t={}})=>h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-4",children:"Shipping Information"}),h.jsx(Zs,{})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(Gs,{label:"First Name",name:"firstName",value:e.firstName,onChange:s,placeholder:"John",required:!0,error:t.firstName,icon:ee}),h.jsx(Gs,{label:"Last Name",name:"lastName",value:e.lastName,onChange:s,placeholder:"Doe",required:!0,error:t.lastName})]}),h.jsx(Gs,{label:"Email Address",type:"email",name:"email",value:e.email,onChange:s,placeholder:"john@example.com",required:!0,error:t.email,icon:Q}),h.jsx(Gs,{label:"Phone Number",type:"tel",name:"phone",value:e.phone,onChange:s,placeholder:"+1 (555) 123-4567",required:!0,error:t.phone,icon:je}),h.jsx(Gs,{label:"Street Address",name:"address",value:e.address,onChange:s,placeholder:"123 Main Street",required:!0,error:t.address,icon:ce}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(Gs,{label:"City",name:"city",value:e.city,onChange:s,placeholder:"New York",required:!0,error:t.city}),h.jsx(Gs,{label:"State",name:"state",value:e.state,onChange:s,placeholder:"NY",required:!0,error:t.state})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(Gs,{label:"ZIP Code",name:"zipCode",value:e.zipCode,onChange:s,placeholder:"10001",required:!0,error:t.zipCode}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{htmlFor:"mobile-country-select",className:"block text-sm font-medium text-neutral-900",children:["Country ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{id:"mobile-country-select",name:"country",value:e.country,onChange:s,className:"w-full px-4 py-4 text-base border border-neutral-300 rounded-xl focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500 transition-colors duration-200 touch-manipulation",required:!0,children:[h.jsx("option",{value:"United States",children:"United States"}),h.jsx("option",{value:"Canada",children:"Canada"}),h.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),h.jsx("option",{value:"Australia",children:"Australia"}),h.jsx("option",{value:"Other",children:"Other"})]})]})]})]}),h.jsx("div",{className:"bg-neutral-50 rounded-xl p-4",children:h.jsxs("label",{className:"flex items-center space-x-3",children:[h.jsx("input",{type:"checkbox",name:"saveInfo",checked:e.saveInfo,onChange:s,className:"w-5 h-5 text-neutral-900 border-neutral-300 rounded focus:ring-neutral-500"}),h.jsx("span",{className:"text-sm text-neutral-700",children:"Save this information for faster checkout next time"})]})})]}),Xs=({formData:e,onChange:s,errors:t={},selectedPaymentMethod:a})=>{const[r,i]=u.useState(!1);return"card"!==a?h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"w-16 h-16 bg-neutral-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(pe,{className:"h-8 w-8 text-neutral-600"})}),h.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:["apple-pay"===a?"Apple Pay":"Google Pay"," Selected"]}),h.jsx("p",{className:"text-neutral-600",children:"You'll be redirected to complete your payment securely"})]})}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-neutral-900 mb-4",children:"Payment Information"}),h.jsx(Zs,{})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(Gs,{label:"Card Number",type:"text",name:"cardNumber",value:e.cardNumber,onChange:s,placeholder:"1234 5678 9012 3456",required:!0,error:t.cardNumber,icon:pe}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsx(Gs,{label:"Expiry Date",type:"text",name:"expiryDate",value:e.expiryDate,onChange:s,placeholder:"MM/YY",required:!0,error:t.expiryDate,icon:K}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{htmlFor:"mobile-cvv-input",className:"block text-sm font-medium text-neutral-900",children:["CVV ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(se,{className:"h-5 w-5 text-neutral-400"})}),h.jsx("input",{id:"mobile-cvv-input",type:r?"text":"password",name:"cvv",value:e.cvv,onChange:s,placeholder:"123",required:!0,className:`\n                  w-full px-4 py-4 pl-10 pr-12 text-base border border-neutral-300 rounded-xl\n                  focus:ring-2 focus:ring-neutral-500 focus:border-neutral-500\n                  transition-colors duration-200 touch-manipulation\n                  ${t.cvv?"border-red-500 focus:ring-red-500 focus:border-red-500":""}\n                `}),h.jsx("button",{type:"button",onClick:()=>i(!r),className:"absolute inset-y-0 right-0 pr-3 flex items-center","aria-label":r?"Hide CVV":"Show CVV",children:r?h.jsx(te,{className:"h-5 w-5 text-neutral-500"}):h.jsx(ae,{className:"h-5 w-5 text-neutral-500"})})]}),t.cvv&&h.jsx("p",{className:"text-sm text-red-600",role:"alert",children:t.cvv})]})]}),h.jsx(Gs,{label:"Name on Card",name:"cardName",value:e.cardName,onChange:s,placeholder:"John Doe",required:!0,error:t.cardName,icon:ee})]}),h.jsx("div",{className:"bg-neutral-50 rounded-xl p-4",children:h.jsxs("label",{className:"flex items-center space-x-3",children:[h.jsx("input",{type:"checkbox",name:"sameAsBilling",checked:e.sameAsBilling,onChange:s,className:"w-5 h-5 text-neutral-900 border-neutral-300 rounded focus:ring-neutral-500"}),h.jsx("span",{className:"text-sm text-neutral-700",children:"Billing address is the same as shipping address"})]})})]})},et=({items:e,subtotal:s,shipping:t,tax:a,total:r})=>{const[i,l]=u.useState(!1);return h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"bg-white rounded-xl border border-neutral-200 overflow-hidden",children:[h.jsxs("button",{onClick:()=>l(!i),className:"w-full p-4 flex items-center justify-between text-left",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-neutral-900",children:"Order Summary"}),h.jsxs("p",{className:"text-sm text-neutral-600",children:[e.length," items"]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-lg font-semibold text-neutral-900",children:["$",r.toFixed(2)]}),h.jsx("div",{className:"text-sm text-neutral-600",children:i?"Hide details":"Show details"})]})]}),h.jsx(ls.div,{initial:!1,animate:{height:i?"auto":0},className:"overflow-hidden",children:h.jsxs("div",{className:"border-t border-neutral-200 p-4 space-y-4",children:[h.jsx("div",{className:"space-y-3",children:e.map(e=>h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("img",{src:e.images[0],alt:e.name,className:"w-12 h-12 object-cover rounded-lg"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"font-medium text-neutral-900 text-sm",children:e.name}),h.jsxs("p",{className:"text-xs text-neutral-600",children:["Qty: ",e.quantity]})]}),h.jsxs("div",{className:"text-sm font-medium text-neutral-900",children:["$",(e.price*e.quantity).toFixed(2)]})]},e.id))}),h.jsxs("div",{className:"border-t border-neutral-200 pt-4 space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-neutral-600",children:"Subtotal"}),h.jsxs("span",{className:"text-neutral-900",children:["$",s.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-neutral-600",children:"Shipping"}),h.jsx("span",{className:"text-neutral-900",children:0===t?"Free":`$${t.toFixed(2)}`})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-neutral-600",children:"Tax"}),h.jsxs("span",{className:"text-neutral-900",children:["$",a.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between font-semibold text-base border-t border-neutral-200 pt-2",children:[h.jsx("span",{className:"text-neutral-900",children:"Total"}),h.jsxs("span",{className:"text-neutral-900",children:["$",r.toFixed(2)]})]})]})]})})]})})};const st=new class{constructor(){d(this,"razorpayKeyId"),d(this,"isTestMode"),this.razorpayKeyId="your_razorpay_key_id",this.isTestMode=!1,this.razorpayKeyId}loadRazorpayScript(){return c(this,null,function*(){return new Promise(e=>{if(window.Razorpay)return void e(!0);const s=document.createElement("script");s.src="https://checkout.razorpay.com/v1/checkout.js",s.onload=()=>e(!0),s.onerror=()=>e(!1),document.body.appendChild(s)})})}calculateGST(e){const s=parseFloat("0.18");return Math.round(e*s*100)/100}calculateShipping(e,s){return s>=parseFloat("2000")?0:e.toLowerCase().includes("kashmir")||e.toLowerCase().includes("jammu")?parseFloat("50"):parseFloat("100")}createPaymentOrder(e){return c(this,null,function*(){try{const s=e.amount,t=this.calculateGST(s),a=this.calculateShipping(e.shippingAddress.state,s),r=s+t+a,i={amount:Math.round(100*r),currency:e.currency,receipt:`order_${Date.now()}`,notes:{customer_name:e.customerInfo.name,customer_email:e.customerInfo.email,items_count:e.items.length.toString(),subtotal:s.toString(),gst:t.toString(),shipping:a.toString(),total:r.toString()}},l=yield fetch("/.netlify/functions/create-payment-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const n=yield l.json();if(!n.success)throw new Error(n.error||"Failed to create payment order");return n.order}catch(s){throw new Error("Failed to create payment order")}})}processPayment(e){return c(this,null,function*(){try{if(!(yield this.loadRazorpayScript()))throw new Error("Failed to load Razorpay script");const s=yield this.createPaymentOrder(e);return new Promise(t=>{const a={key:this.razorpayKeyId,amount:s.amount,currency:s.currency,name:"Sufi Essences",description:"Premium Kashmiri Perfumes & Attars",image:"/logo.png",order_id:s.id,handler:e=>{this.verifyPayment(e).then(()=>{t({success:!0,paymentId:e.razorpay_payment_id})}).catch(e=>{t({success:!1,error:e.message})})},prefill:{name:e.customerInfo.name,email:e.customerInfo.email,contact:e.customerInfo.phone},notes:{address:`${e.shippingAddress.street}, ${e.shippingAddress.city}`,state:e.shippingAddress.state},theme:{color:"#8B5A3C"},modal:{ondismiss:()=>{t({success:!1,error:"Payment cancelled by user"})}}};new window.Razorpay(a).open()})}catch(s){return{success:!1,error:s instanceof Error?s.message:"Payment processing failed"}}})}verifyPayment(e){return c(this,null,function*(){try{if(!e.razorpay_payment_id||!e.razorpay_order_id||!e.razorpay_signature)throw new Error("Invalid payment response");const s=yield fetch("/.netlify/functions/verify-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const t=yield s.json();if(!t.success||!t.verified)throw new Error(t.error||"Payment verification failed");return!0}catch(s){throw new Error("Payment verification failed")}})}getSupportedPaymentMethods(){return[{id:"card",name:"Credit/Debit Card",description:"Visa, Mastercard, RuPay",icon:"💳"},{id:"upi",name:"UPI",description:"Google Pay, PhonePe, Paytm",icon:"📱"},{id:"netbanking",name:"Net Banking",description:"All major banks",icon:"🏦"},{id:"wallet",name:"Wallets",description:"Paytm, Mobikwik, etc.",icon:"👛"},{id:"cod",name:"Cash on Delivery",description:"Pay when you receive",icon:"💵"}]}formatCurrency(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:2}).format(e)}isConfigured(){return!!this.razorpayKeyId}},tt=({amount:e,items:s,customerInfo:t,shippingAddress:a,onSuccess:r,onError:i,onCancel:l})=>{const[n,o]=u.useState(!1),[d,m]=u.useState("card"),{showNotification:x}=Ee(),p=e,g=Math.round(.18*p*100)/100,y=p>=2e3?0:a.state.toLowerCase().includes("kashmir")?50:100,b=p+g+y,f=[{id:"card",name:"Cards",description:"Credit/Debit Cards",icon:pe,color:"bg-blue-500"},{id:"upi",name:"UPI",description:"Google Pay, PhonePe, Paytm",icon:fe,color:"bg-green-500"},{id:"netbanking",name:"Net Banking",description:"All major banks",icon:Ne,color:"bg-purple-500"},{id:"wallet",name:"Wallets",description:"Paytm, Mobikwik",icon:ve,color:"bg-orange-500"},{id:"cod",name:"Cash on Delivery",description:"Pay when delivered",icon:we,color:"bg-gray-500"}];return h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Summary"}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{children:"Subtotal"}),h.jsxs("span",{children:["₹",p.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{children:"GST (18%)"}),h.jsxs("span",{children:["₹",g.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{children:"Shipping"}),h.jsx("span",{children:0===y?"FREE":`₹${y.toFixed(2)}`})]}),h.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[h.jsx("span",{children:"Total"}),h.jsxs("span",{children:["₹",b.toFixed(2)]})]})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Choose Payment Method"}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:f.map(e=>{const s=e.icon;return h.jsx(ls.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(e.id),className:"p-4 rounded-lg border-2 transition-all "+(d===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:`p-2 rounded-lg ${e.color} text-white`,children:h.jsx(s,{className:"w-5 h-5"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("div",{className:"font-medium text-gray-900",children:e.name}),h.jsx("div",{className:"text-sm text-gray-500",children:e.description})]}),d===e.id&&h.jsx(ye,{className:"w-5 h-5 text-blue-500 ml-auto"})]})},e.id)})})]}),h.jsxs("div",{className:"mb-6 flex items-center justify-center space-x-2 text-sm text-gray-600",children:[h.jsx(me,{className:"w-4 h-4 text-green-500"}),h.jsx("span",{children:"Secured by Razorpay • 256-bit SSL encryption"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx(ls.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>c(null,null,function*(){if("cod"===d)return x({type:"success",title:"Order Placed",message:"Your order has been placed. Pay when delivered."}),void r("cod_"+Date.now());if(!st.isConfigured())return x({type:"error",title:"Payment Gateway Error",message:"Payment gateway is not configured. Please contact support."}),void i("Payment gateway not configured");o(!0);try{const e={amount:p,currency:"INR",items:s,customerInfo:t,shippingAddress:a},l=yield st.processPayment(e);l.success&&l.paymentId?(x({type:"success",title:"Payment Successful",message:"Your payment has been processed successfully!"}),r(l.paymentId)):(x({type:"error",title:"Payment Failed",message:l.error||"Payment processing failed"}),i(l.error||"Payment failed"))}catch(e){const s=e instanceof Error?e.message:"Payment processing failed";x({type:"error",title:"Payment Error",message:s}),i(s)}finally{o(!1)}}),disabled:n,className:"w-full py-4 px-6 rounded-lg font-semibold text-white transition-all "+(n?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700"),children:n?h.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[h.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),h.jsx("span",{children:"Processing Payment..."})]}):`Pay ₹${b.toFixed(2)}`}),h.jsx("button",{onClick:l,disabled:n,className:"w-full py-2 px-4 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"})]}),h.jsxs("div",{className:"mt-6 text-xs text-gray-500 text-center",children:[h.jsx("p",{children:"By proceeding, you agree to our Terms of Service and Privacy Policy."}),h.jsx("p",{className:"mt-1",children:"All transactions are secured and encrypted."})]})]})},at=()=>{const{items:e,total:s,clearCart:t}=Oe(),{user:a}=Fe(),{createOrder:r}=Ue(),{showNotification:i}=Ee(),{isMobile:l}=os(),[d,m]=u.useState(1),[x,g]=u.useState(!1),[y,f]=u.useState(null),[j,N]=u.useState("razorpay"),[v,w]=u.useState(!1),[k,C]=u.useState({firstName:"",lastName:"",email:(null==a?void 0:a.email)||"",phone:"",address:"",city:"",state:"",zipCode:"",country:"India",cardNumber:"",expiryDate:"",cvv:"",cardName:"",saveInfo:!1,sameAsBilling:!0}),S=s,P=Math.round(.18*S*100)/100,A=S>=2e3?0:k.state.toLowerCase().includes("kashmir")?50:100,E=S+P+A,F=e=>{const{name:s,value:t,type:a}=e.target;C(r=>o(n({},r),{[s]:"checkbox"===a?e.target.checked:t}))},O=e=>{if(1===e){if(!(k.firstName&&k.lastName&&k.email&&k.phone&&k.address&&k.city&&k.state))return i({type:"error",title:"Validation Error",message:"Please fill in all required shipping information."}),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k.email))return i({type:"error",title:"Invalid Email",message:"Please enter a valid email address."}),!1}if(2===e){if(!(k.cardNumber&&k.expiryDate&&k.cvv&&k.cardName))return i({type:"error",title:"Validation Error",message:"Please fill in all required payment information."}),!1;if(k.cardNumber.replace(/\s/g,"").length<16)return i({type:"error",title:"Invalid Card Number",message:"Please enter a valid card number."}),!1;if(!/^\d{2}\/\d{2}$/.test(k.expiryDate))return i({type:"error",title:"Invalid Expiry Date",message:"Please enter expiry date in MM/YY format."}),!1;if(k.cvv.length<3)return i({type:"error",title:"Invalid CVV",message:"Please enter a valid CVV."}),!1}return!0},T=e=>{O(d)&&m(e)},D=s=>c(null,null,function*(){const i={fullName:`${k.firstName} ${k.lastName}`,streetAddress:k.address,city:k.city,state:k.state,postalCode:k.zipCode,country:k.country,phone:k.phone,street:k.address,zipCode:k.zipCode};let l=null;if(l=a?yield r(e,i,void 0,"cod"===j?"Cash on Delivery":"Razorpay"):yield cs({items:e,shippingAddress:i,paymentMethod:"cod"===j?"Cash on Delivery":"Razorpay",guestEmail:k.email,guestName:`${k.firstName} ${k.lastName}`,paymentId:s}),l){f(l),g(!0),w(!1),t();try{yield bs.sendOrderConfirmationEmail({email:k.email,name:`${k.firstName} ${k.lastName}`,orderId:l,items:e.map(e=>({name:e.product.name,quantity:e.quantity,price:e.product.price,image:e.product.images[0]})),subtotal:S,gst:P,shipping:A,total:E,shippingAddress:{street:k.address,city:k.city,state:k.state,zipCode:k.zipCode,country:k.country},paymentMethod:"cod"===j?"Cash on Delivery":"Razorpay"})}catch(n){}}}),M=()=>c(null,null,function*(){O(d)&&("cod"===j?yield D("cod_"+Date.now()):w(!0))});if(0===e.length&&!x)return h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your Cart is Empty"}),h.jsx("p",{className:"text-gray-600",children:"Add some items to your cart before checking out."})]})});if(x)return h.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center p-4",children:h.jsxs(ls.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-lg mx-auto bg-white rounded-2xl shadow-2xl p-10 text-center border border-neutral-200",children:[h.jsx("div",{className:"w-20 h-20 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-8",children:h.jsx(ye,{className:"h-10 w-10 text-emerald-600"})}),h.jsx("h1",{className:"text-3xl font-bold text-neutral-900 mb-4 font-luxury",children:"Order Confirmed!"}),h.jsxs("p",{className:"text-neutral-600 mb-8 leading-relaxed",children:["Thank you for your purchase. Your order ",h.jsxs("span",{className:"font-mono font-medium",children:["#",null==y?void 0:y.slice(0,8)]})," has been placed successfully and you'll receive a confirmation email shortly."]}),h.jsx("div",{className:"bg-neutral-50 rounded-xl p-6 mb-8",children:h.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-emerald-600 mb-1",children:"✓"}),h.jsx("div",{className:"text-xs text-neutral-600",children:"Secure Payment"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:"📦"}),h.jsx("div",{className:"text-xs text-neutral-600",children:"Fast Shipping"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-1",children:"🔄"}),h.jsx("div",{className:"text-xs text-neutral-600",children:"Easy Returns"})]})]})}),h.jsx("div",{className:"space-y-4",children:a?h.jsxs(h.Fragment,{children:[h.jsx(b,{to:"/orders",children:h.jsx("button",{className:"w-full btn-primary btn-lg",children:"Track Your Order"})}),h.jsx(b,{to:"/products",children:h.jsx("button",{className:"w-full btn-secondary btn-lg",children:"Continue Shopping"})})]}):h.jsxs(h.Fragment,{children:[h.jsxs("p",{className:"text-sm text-neutral-500 mb-6 bg-blue-50 p-4 rounded-lg border border-blue-200",children:["A confirmation email has been sent to ",h.jsx("span",{className:"font-medium",children:k.email})," with your order details."]}),h.jsx(b,{to:"/products",children:h.jsx("button",{className:"w-full btn-primary btn-lg",children:"Continue Shopping"})}),h.jsx(b,{to:"/auth/login",children:h.jsx("button",{className:"w-full btn-secondary btn-lg",children:"Create an Account"})})]})})]})});if(l){const s=()=>{switch(d){case 1:return"Shipping Information";case 2:return"Payment Method";case 3:return"Review Order";default:return"Checkout"}},t=()=>{switch(d){case 1:return k.firstName&&k.lastName&&k.email&&k.phone&&k.address&&k.city&&k.state&&k.zipCode;case 2:return"card"!==j||k.cardNumber&&k.expiryDate&&k.cvv&&k.cardName;case 3:return!0;default:return!1}},a=e=>{O(d)&&m(e)},r=()=>{switch(d){case 1:return h.jsx(Qs,{formData:k,onChange:F});case 2:return h.jsxs("div",{className:"space-y-6",children:[h.jsx(Ks,{selectedMethod:j,onMethodChange:N}),h.jsx(Xs,{formData:k,onChange:F,selectedPaymentMethod:j})]});case 3:return h.jsx(et,{items:e,subtotal:S,shipping:shippingCost,tax:tax,total:E});default:return null}};return h.jsxs(h.Fragment,{children:[h.jsx(Vs,{currentStep:d,totalSteps:3,onStepChange:a,onBack:()=>d>1?m(d-1):window.history.back(),stepTitle:s(),canProceed:t(),children:r()}),h.jsx(Js,{currentStep:d,totalSteps:3,onBack:d>1?()=>m(d-1):void 0,onNext:d<3?()=>a(d+1):M,canProceed:t(),isLoading:!1})]})}return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white shadow-sm border-b",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(b,{to:"/products",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:h.jsx(p,{className:"h-5 w-5"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Checkout"}),h.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[h.jsxs("div",{className:"flex items-center space-x-2 "+(d>=1?"text-indigo-600":"text-gray-400"),children:[h.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium "+(d>=1?"bg-indigo-600 text-white":"bg-gray-200"),children:"1"}),h.jsx("span",{className:"text-sm font-medium",children:"Shipping"})]}),h.jsx("div",{className:"w-8 h-px bg-gray-300"}),h.jsxs("div",{className:"flex items-center space-x-2 "+(d>=2?"text-indigo-600":"text-gray-400"),children:[h.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium "+(d>=2?"bg-indigo-600 text-white":"bg-gray-200"),children:"2"}),h.jsx("span",{className:"text-sm font-medium",children:"Payment"})]}),h.jsx("div",{className:"w-8 h-px bg-gray-300"}),h.jsxs("div",{className:"flex items-center space-x-2 "+(d>=3?"text-indigo-600":"text-gray-400"),children:[h.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium "+(d>=3?"bg-indigo-600 text-white":"bg-gray-200"),children:"3"}),h.jsx("span",{className:"text-sm font-medium",children:"Review"})]})]})]})]})})}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"lg:col-span-2",children:[1===d&&h.jsxs(ls.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[h.jsx(ce,{className:"h-5 w-5 mr-2"}),"Shipping Information"]}),!a&&h.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx(de,{className:"h-5 w-5 text-blue-600"})}),h.jsxs("div",{className:"ml-3",children:[h.jsx("h3",{className:"text-sm font-medium text-blue-900",children:"Guest Checkout"}),h.jsx("p",{className:"text-sm text-blue-700",children:"You're checking out as a guest. You'll receive order updates via email."})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),h.jsx("input",{type:"text",name:"firstName",value:k.firstName,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),h.jsx("input",{type:"text",name:"lastName",value:k.lastName,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),h.jsx("input",{type:"email",name:"email",value:k.email,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),h.jsx("input",{type:"tel",name:"phone",value:k.phone,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),h.jsx("input",{type:"text",name:"address",value:k.address,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),h.jsx("input",{type:"text",name:"city",value:k.city,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),h.jsx("input",{type:"text",name:"state",value:k.state,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]})]}),h.jsx("div",{className:"mt-8 flex justify-end",children:h.jsx(ls.button,{onClick:()=>T(2),className:"btn-primary",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Continue to Payment"})})]}),2===d&&h.jsxs(ls.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[h.jsx(pe,{className:"h-5 w-5 mr-2"}),"Payment Information"]}),h.jsxs("div",{className:"mb-6",children:[h.jsx(Je,{className:"mb-4"}),h.jsx(ze,{variant:"compact",showLabels:!1,className:"justify-center"})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number"}),h.jsx("input",{type:"text",name:"cardNumber",value:k.cardNumber,onChange:F,placeholder:"1234 5678 9012 3456",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date"}),h.jsx("input",{type:"text",name:"expiryDate",value:k.expiryDate,onChange:F,placeholder:"MM/YY",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV"}),h.jsx("input",{type:"text",name:"cvv",value:k.cvv,onChange:F,placeholder:"123",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name on Card"}),h.jsx("input",{type:"text",name:"cardName",value:k.cardName,onChange:F,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]})]}),h.jsxs("div",{className:"mt-8 flex justify-between",children:[h.jsx(ls.button,{onClick:()=>m(1),className:"btn-secondary",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Back"}),h.jsx(ls.button,{onClick:()=>T(3),className:"btn-primary",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Review Order"})]})]}),3===d&&h.jsxs(ls.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[h.jsx(de,{className:"h-5 w-5 mr-2"}),"Review Your Order"]}),h.jsx("div",{className:"space-y-4 mb-8",children:e.map(e=>h.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[h.jsx("img",{src:e.product.images[0],alt:e.product.name,className:"w-16 h-16 object-cover rounded-lg"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-medium text-gray-900",children:e.product.name}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",e.quantity]})]}),h.jsx("div",{className:"text-right",children:h.jsxs("p",{className:"font-semibold text-gray-900",children:["₹",(e.product.price*e.quantity).toFixed(2)]})})]},e.product.id))}),h.jsx(Ze,{className:"mb-6"}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx(ls.button,{onClick:()=>m(2),className:"btn-secondary",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Back"}),h.jsx(ls.button,{onClick:M,className:"btn-primary !bg-green-600 !hover:bg-green-700 !focus:ring-green-600/20",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Place Order"})]})]})]}),h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 sticky top-28",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),h.jsxs("div",{className:"space-y-3 mb-6",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Subtotal"}),h.jsxs("span",{className:"font-medium",children:["₹",S.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"GST (18%)"}),h.jsxs("span",{className:"font-medium",children:["₹",P.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Shipping"}),h.jsx("span",{className:"font-medium",children:0===A?h.jsx("span",{className:"text-green-600 font-semibold",children:"FREE"}):`₹${A.toFixed(2)}`})]}),0===A&&h.jsx("div",{className:"text-xs text-green-600 text-right",children:"Fast Shipping on orders ≥ ₹2,000"}),h.jsx("div",{className:"border-t border-gray-200 pt-3",children:h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total"}),h.jsxs("span",{className:"text-lg font-bold text-indigo-600",children:["₹",E.toFixed(2)]})]})})]}),h.jsx(Qe,{})]})})]})}),v&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsx("div",{className:"max-w-md w-full",children:h.jsx(tt,{amount:S,items:e,customerInfo:{name:`${k.firstName} ${k.lastName}`,email:k.email,phone:k.phone},shippingAddress:{street:k.address,city:k.city,state:k.state,zipCode:k.zipCode,country:k.country},onSuccess:D,onError:e=>{i({type:"error",title:"Payment Failed",message:e}),w(!1)},onCancel:()=>{w(!1)}})})})]})},rt=Object.freeze(Object.defineProperty({__proto__:null,CheckoutPage:at,default:at},Symbol.toStringTag,{value:"Module"})),it=({history:e})=>{const s=e=>{switch(e){case"Order Placed":default:return h.jsx(de,{className:"h-5 w-5"});case"Processing":return h.jsx(L,{className:"h-5 w-5"});case"Shipped":return h.jsx(O,{className:"h-5 w-5"});case"Delivered":return h.jsx(ye,{className:"h-5 w-5"})}},t=s=>s<e.length;return h.jsxs("div",{className:"py-4",children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Tracking History"}),h.jsx("div",{className:"space-y-8",children:e.map((a,r)=>h.jsxs(ls.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*r},className:"flex space-x-4",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+(t(r)?"bg-indigo-600 text-white":"bg-gray-200 text-gray-500"),children:s(a.status)}),r<e.length-1&&h.jsx("div",{className:"w-0.5 flex-grow "+(t(r+1)?"bg-indigo-600":"bg-gray-200")})]}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-gray-900",children:a.status}),h.jsx("p",{className:"text-sm text-gray-500",children:new Date(a.date).toLocaleString()}),h.jsx("p",{className:"text-sm text-gray-500",children:a.location})]})]},r))})]})},lt=()=>{const{orders:e,loading:s,fetchUserOrders:t}=Ue(),[a,r]=u.useState("all"),[i,l]=u.useState(null);u.useEffect(()=>{t()},[t]);const n=e,o=[{id:"all",name:"All Orders",count:n.length},{id:"processing",name:"Processing",count:n.filter(e=>"processing"===e.status).length},{id:"shipped",name:"Shipped",count:n.filter(e=>"shipped"===e.status).length},{id:"delivered",name:"Delivered",count:n.filter(e=>"delivered"===e.status).length}],d="all"===a?n:n.filter(e=>e.status===a),c=e=>{switch(e){case"processing":return h.jsx(L,{className:"h-4 w-4"});case"shipped":return h.jsx(O,{className:"h-4 w-4"});case"delivered":return h.jsx(ye,{className:"h-4 w-4"});default:return h.jsx(de,{className:"h-4 w-4"})}},m=e=>{switch(e){case"processing":return"bg-yellow-100 text-yellow-700";case"shipped":return"bg-blue-100 text-blue-700";case"delivered":return"bg-green-100 text-green-700";default:return"bg-gray-100 text-gray-700"}};return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("div",{className:"bg-white shadow-sm border-b",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("div",{className:"p-3 bg-indigo-100 rounded-xl",children:h.jsx(de,{className:"h-8 w-8 text-indigo-600"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Orders"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Track and manage your orders"})]})]})})}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("div",{className:"border-b border-gray-200 mb-8",children:h.jsx("nav",{className:"-mb-px flex space-x-8",children:o.map(e=>h.jsxs("button",{onClick:()=>r(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap "+(a===e.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.name,e.count>0&&h.jsx("span",{className:"ml-2 py-0.5 px-2 rounded-full text-xs "+(a===e.id?"bg-indigo-100 text-indigo-600":"bg-gray-100 text-gray-900"),children:e.count})]},e.id))})}),s?h.jsx(Xe,{text:"Loading your orders..."}):h.jsx("div",{className:"space-y-6",children:0===d.length?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(de,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders found"}),h.jsx("p",{className:"text-gray-600",children:"You haven't placed any orders yet."}),h.jsx(b,{to:"/products",className:"btn-primary mt-4 inline-block",children:"Start Shopping"})]}):d.map((e,s)=>h.jsxs(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[h.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-100 cursor-pointer",onClick:()=>l(i===e.id?null:e.id),children:h.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Order #",e.id.slice(0,8)]}),h.jsxs("p",{className:"text-sm text-gray-600",children:["Placed on ",new Date(e.created_at).toLocaleDateString()]})]}),h.jsxs("span",{className:`inline-flex items-center space-x-1 px-3 py-1 rounded-full text-sm font-medium ${m(e.status)}`,children:[c(e.status),h.jsx("span",{className:"capitalize",children:e.status})]})]}),h.jsxs("div",{className:"flex items-center space-x-4 mt-4 lg:mt-0",children:[h.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["$",e.total.toFixed(2)]}),h.jsx(ls.div,{animate:{rotate:i===e.id?180:0},children:h.jsx(S,{className:"h-5 w-5 text-gray-500"})})]})]})}),h.jsx(ns,{children:i===e.id&&h.jsx(ls.div,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:h.jsxs("div",{className:"p-6",children:[h.jsx(it,{history:e.trackingHistory,status:e.status}),h.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 flex items-center justify-end",children:h.jsx(b,{to:`/products/${e.items[0].product.id}#reviews`,children:h.jsxs("button",{className:"flex items-center space-x-2 text-indigo-600 hover:text-indigo-800 text-sm font-medium",children:[h.jsx(M,{className:"h-4 w-4"}),h.jsx("span",{children:"Write a Review"})]})})})]})})})]},e.id))})]})]})},nt=Object.freeze(Object.defineProperty({__proto__:null,OrdersPage:lt,default:lt},Symbol.toStringTag,{value:"Module"})),ot=()=>{const{user:e,updateProfile:s}=Fe(),{showNotification:t}=Ee(),[a,r]=u.useState(!1),[i,l]=u.useState({}),[d,m]=u.useState(!1),[x,p]=u.useState({name:"",email:"",phone:"",dateOfBirth:"",avatar:"",bio:"",location:"",website:""});u.useEffect(()=>{e&&p({name:e.name||"",email:e.email||"",phone:e.phone||"",dateOfBirth:e.dateOfBirth||"",avatar:e.avatar||"",bio:"",location:"",website:""})},[e]);const g=e=>{const{name:s,value:t}=e.target;p(e=>o(n({},e),{[s]:t})),i[s]&&l(e=>o(n({},e),{[s]:""})),d&&m(!1)};return h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Update your personal information and preferences"})]}),d&&h.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(R,{className:"h-5 w-5 text-green-600"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Profile Updated"}),h.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Your profile has been updated successfully"})]})]})}),h.jsxs("form",{onSubmit:a=>c(null,null,function*(){if(a.preventDefault(),e&&(()=>{const e={};if(x.name.trim()?x.name.trim().length<2&&(e.name="Name must be at least 2 characters"):e.name="Name is required",x.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.email)||(e.email="Please enter a valid email address"):e.email="Email is required",x.phone&&!/^[+]?[1-9][\d]{0,15}$/.test(x.phone.replace(/\s/g,""))&&(e.phone="Please enter a valid phone number"),x.dateOfBirth){const s=new Date(x.dateOfBirth);(new Date).getFullYear()-s.getFullYear()<13&&(e.dateOfBirth="You must be at least 13 years old")}return x.website&&!/^https?:\/\/.+/.test(x.website)&&(e.website="Please enter a valid URL (starting with http:// or https://)"),l(e),0===Object.keys(e).length})()){r(!0),l({});try{yield s({name:x.name,phone:x.phone,dateOfBirth:x.dateOfBirth,avatar:x.avatar}),m(!0),t({type:"success",title:"Profile Updated",message:"Your profile has been updated successfully"})}catch(i){t({type:"error",title:"Update Failed",message:i instanceof Error?i.message:"An error occurred while updating your profile"})}finally{r(!1)}}}),className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center gap-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"h-24 w-24 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:x.avatar?h.jsx("img",{src:x.avatar,alt:"Profile",className:"h-full w-full object-cover"}):h.jsx(ee,{className:"h-12 w-12 text-gray-400"})}),h.jsxs("label",{htmlFor:"avatar-upload",className:"absolute bottom-0 right-0 bg-indigo-600 text-white p-2 rounded-full cursor-pointer hover:bg-indigo-700 transition-colors",children:[h.jsx(he,{className:"h-4 w-4"}),h.jsx("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:e=>{var s;const t=null==(s=e.target.files)?void 0:s[0];if(t){const e=new FileReader;e.onload=e=>{var s;const t=null==(s=e.target)?void 0:s.result;p(e=>o(n({},e),{avatar:t}))},e.readAsDataURL(t)}},className:"hidden"})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Profile Photo"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Upload a new profile photo"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(ee,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"text",id:"name",name:"name",value:x.name,onChange:g,required:!0,className:"input-field pl-10 "+(i.name?"border-red-500":""),placeholder:"Enter your full name"})]}),i.name&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.name})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(Q,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"email",id:"email",name:"email",value:x.email,disabled:!0,className:"input-field pl-10 bg-gray-50 cursor-not-allowed",placeholder:"Email cannot be changed"})]}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email address cannot be changed"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(je,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"tel",id:"phone",name:"phone",value:x.phone,onChange:g,className:"input-field pl-10 "+(i.phone?"border-red-500":""),placeholder:"Enter your phone number"})]}),i.phone&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.phone})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(K,{className:"h-5 w-5 text-gray-400"})}),h.jsx("input",{type:"date",id:"dateOfBirth",name:"dateOfBirth",value:x.dateOfBirth,onChange:g,className:"input-field pl-10 "+(i.dateOfBirth?"border-red-500":"")})]}),i.dateOfBirth&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.dateOfBirth})]}),h.jsxs("div",{className:"md:col-span-2",children:[h.jsx("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),h.jsx("textarea",{id:"bio",name:"bio",value:x.bio,onChange:g,className:"input-field min-h-[100px]",placeholder:"Tell us a little about yourself"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),h.jsx("input",{type:"text",id:"location",name:"location",value:x.location,onChange:g,className:"input-field",placeholder:"City, Country"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),h.jsx("input",{type:"url",id:"website",name:"website",value:x.website,onChange:g,className:"input-field "+(i.website?"border-red-500":""),placeholder:"https://example.com"}),i.website&&h.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.website})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Role"}),h.jsxs("div",{className:"px-4 py-2 bg-gray-50 border border-gray-200 rounded-lg",children:[h.jsx("span",{className:"capitalize font-medium text-gray-900",children:null==e?void 0:e.role}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your account role determines your access level and permissions"})]})]}),h.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:h.jsx(ls.button,{type:"submit",disabled:a,className:"btn-primary flex items-center gap-2 "+(a?"opacity-70 cursor-not-allowed":""),whileHover:a?{}:{scale:1.02},whileTap:a?{}:{scale:.98},children:a?h.jsxs(h.Fragment,{children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):h.jsxs(h.Fragment,{children:[h.jsx(ge,{className:"h-4 w-4"}),"Save Changes"]})})})]})]})},dt=({address:e,onClose:s})=>{const{addAddress:t,updateAddress:a}=Ie(),[r,i]=u.useState(!1),[l,d]=u.useState({fullName:"",streetAddress:"",city:"",state:"",postalCode:"",country:"United States",phone:"",type:"shipping",isDefault:!1});u.useEffect(()=>{e&&d({fullName:e.fullName||"",streetAddress:e.streetAddress||e.street||"",city:e.city||"",state:e.state||"",postalCode:e.postalCode||e.zipCode||"",country:e.country||"United States",phone:e.phone||"",type:e.type||"shipping",isDefault:e.isDefault||!1})},[e]);const m=e=>{const{name:s,value:t,type:a}=e.target;d(r=>o(n({},r),{[s]:"checkbox"===a?e.target.checked:t}))};return h.jsxs("form",{onSubmit:r=>c(null,null,function*(){r.preventDefault(),i(!0);try{e?yield a(n(n({},e),l)):yield t(l),s()}catch(o){}finally{i(!1)}}),className:"space-y-8",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-text-primary mb-3",children:"Full Name *"}),h.jsx("input",{type:"text",id:"fullName",name:"fullName",value:l.fullName,onChange:m,required:!0,className:"input-field-luxury",placeholder:"Enter your full name"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-text-primary mb-3",children:"Phone Number"}),h.jsx("input",{type:"tel",id:"phone",name:"phone",value:l.phone,onChange:m,className:"input-field-luxury",placeholder:"Enter your phone number"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"streetAddress",className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address *"}),h.jsx("input",{type:"text",id:"streetAddress",name:"streetAddress",value:l.streetAddress,onChange:m,required:!0,className:"input-field",placeholder:"Enter your street address"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),h.jsx("input",{type:"text",id:"city",name:"city",value:l.city,onChange:m,required:!0,className:"input-field",placeholder:"Enter city"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"state",className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),h.jsx("input",{type:"text",id:"state",name:"state",value:l.state,onChange:m,required:!0,className:"input-field",placeholder:"Enter state"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code *"}),h.jsx("input",{type:"text",id:"postalCode",name:"postalCode",value:l.postalCode,onChange:m,required:!0,className:"input-field",placeholder:"Enter postal code"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"country",className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),h.jsxs("select",{id:"country",name:"country",value:l.country,onChange:m,required:!0,className:"input-field",children:[h.jsx("option",{value:"United States",children:"United States"}),h.jsx("option",{value:"Canada",children:"Canada"}),h.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),h.jsx("option",{value:"Australia",children:"Australia"}),h.jsx("option",{value:"India",children:"India"}),h.jsx("option",{value:"Germany",children:"Germany"}),h.jsx("option",{value:"France",children:"France"}),h.jsx("option",{value:"Japan",children:"Japan"}),h.jsx("option",{value:"Other",children:"Other"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address Type *"}),h.jsxs("select",{id:"type",name:"type",value:l.type,onChange:m,required:!0,className:"input-field",children:[h.jsx("option",{value:"shipping",children:"Shipping"}),h.jsx("option",{value:"billing",children:"Billing"})]})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",id:"isDefault",name:"isDefault",checked:l.isDefault,onChange:m,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),h.jsxs("label",{htmlFor:"isDefault",className:"ml-2 block text-sm text-gray-700",children:["Set as default ",l.type," address"]})]}),h.jsxs("div",{className:"flex gap-4 pt-4",children:[h.jsx(ls.button,{type:"button",onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),h.jsx(ls.button,{type:"submit",disabled:r,className:"flex-1 btn-primary",whileHover:{scale:1.02},whileTap:{scale:.98},children:r?"Saving...":e?"Update Address":"Add Address"})]})]})},ct=()=>{const{addresses:e,deleteAddress:s,setDefaultAddress:t,loading:a}=Ie(),[r,i]=u.useState(!1),[l,n]=u.useState(null),o=()=>{n(null),i(!0)},d=(e,s)=>c(null,null,function*(){yield t(e,s)});return a?h.jsx("div",{className:"p-6",children:h.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(e=>h.jsx("div",{className:"bg-gray-200 h-32 rounded-lg"},e))})}):h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Addresses"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your shipping and billing addresses"})]}),h.jsxs(ls.button,{onClick:o,className:"btn-primary flex items-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsx(E,{className:"h-4 w-4"}),"Add Address"]})]}),0===e.length?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(ce,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No addresses yet"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Add your first address to get started"}),h.jsx(ls.button,{onClick:o,className:"btn-primary",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Add Address"})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((e,t)=>h.jsxs(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[h.jsxs("div",{className:"flex items-start justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ce,{className:"h-5 w-5 text-gray-400"}),h.jsx("span",{className:"font-medium text-gray-900 capitalize",children:e.type||"shipping"}),e.isDefault&&h.jsx(P,{className:"h-4 w-4 text-yellow-500 fill-current"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>(e=>{n(e),i(!0)})(e),className:"p-1 text-gray-400 hover:text-indigo-600 transition-colors",children:h.jsx(M,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>{return t=e.id,c(null,null,function*(){window.confirm("Are you sure you want to delete this address?")&&(yield s(t))});var t},className:"p-1 text-gray-400 hover:text-red-600 transition-colors",children:h.jsx(_,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"space-y-2 mb-4",children:[h.jsx("p",{className:"font-medium text-gray-900",children:e.fullName}),h.jsx("p",{className:"text-gray-600 text-sm",children:e.streetAddress||e.street}),h.jsxs("p",{className:"text-gray-600 text-sm",children:[e.city,", ",e.state," ",e.postalCode||e.zipCode]}),h.jsx("p",{className:"text-gray-600 text-sm",children:e.country}),e.phone&&h.jsx("p",{className:"text-gray-600 text-sm",children:e.phone})]}),!e.isDefault&&h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>d(e.id,"shipping"),className:"flex-1 text-xs px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Set as Default Shipping"}),h.jsx("button",{onClick:()=>d(e.id,"billing"),className:"flex-1 text-xs px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Set as Default Billing"})]})]},e.id))}),h.jsx(ss,{isOpen:r,onClose:()=>i(!1),title:l?"Edit Address":"Add New Address",children:h.jsx(dt,{address:l,onClose:()=>i(!1)})})]})},mt=()=>{const{showNotification:e}=Ee(),{user:s}=Fe(),[t,a]=u.useState(!0),[r,i]=u.useState(!1),[l,d]=u.useState(null),[m,x]=u.useState({email:{orderUpdates:!0,promotions:!0,newsletter:!1,security:!0,productUpdates:!1},push:{orderUpdates:!0,promotions:!1,newsletter:!1,security:!0,productUpdates:!1},sms:{orderUpdates:!1,promotions:!1,newsletter:!1,security:!0,productUpdates:!1}});u.useEffect(()=>{c(null,null,function*(){if(s){a(!0),d(null);try{const e=yield ms(s.id);e&&(setPreferences(e),x({email:{orderUpdates:e.emailOrderUpdates,promotions:e.emailPromotions,newsletter:e.emailNewsletter,security:e.emailSecurity,productUpdates:e.emailProductUpdates},push:{orderUpdates:e.pushOrderUpdates,promotions:e.pushPromotions,newsletter:e.pushNewsletter,security:e.pushSecurity,productUpdates:e.pushProductUpdates},sms:{orderUpdates:e.smsOrderUpdates,promotions:e.smsPromotions,newsletter:e.smsNewsletter,security:e.smsSecurity,productUpdates:e.smsProductUpdates}}))}catch(e){d("Failed to load notification preferences. Please try again.")}finally{a(!1)}}})},[s]);const p=(e,s)=>{x(t=>o(n({},t),{[e]:o(n({},t[e]),{[s]:!t[e][s]})}))};return t?h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notification Settings"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Choose how you want to be notified about updates and activities"})]}),h.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3,4,5].map(e=>h.jsx("div",{className:"bg-gray-200 h-16 rounded-lg"},e))})]}):h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notification Settings"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Choose how you want to be notified about updates and activities"})]}),l&&h.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(X,{className:"h-5 w-5 text-red-600"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),h.jsx("p",{className:"text-sm text-red-700 mt-1",children:l})]})]})}),h.jsxs("div",{className:"space-y-8",children:[h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-gray-200",children:[h.jsx("th",{className:"text-left py-4 px-2 font-medium text-gray-900",children:"Notification Type"}),h.jsx("th",{className:"text-center py-4 px-2 font-medium text-gray-900",children:h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx(Q,{className:"h-4 w-4"}),"Email"]})}),h.jsx("th",{className:"text-center py-4 px-2 font-medium text-gray-900",children:h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx(ke,{className:"h-4 w-4"}),"Push"]})}),h.jsx("th",{className:"text-center py-4 px-2 font-medium text-gray-900",children:h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx(fe,{className:"h-4 w-4"}),"SMS"]})})]})}),h.jsx("tbody",{children:[{key:"orderUpdates",title:"Order Updates",description:"Notifications about your order status and delivery"},{key:"promotions",title:"Promotions & Deals",description:"Special offers, discounts, and promotional campaigns"},{key:"newsletter",title:"Newsletter",description:"Weekly newsletter with new products and features"},{key:"security",title:"Security Alerts",description:"Important security notifications and account changes"},{key:"productUpdates",title:"Product Updates",description:"New product launches and feature announcements"}].map(e=>h.jsxs("tr",{className:"border-b border-gray-100",children:[h.jsx("td",{className:"py-4 px-2",children:h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-gray-900",children:e.title}),h.jsx("div",{className:"text-sm text-gray-600",children:e.description})]})}),h.jsx("td",{className:"py-4 px-2 text-center",children:h.jsx("label",{className:"inline-flex items-center",children:h.jsx("input",{type:"checkbox",checked:m.email[e.key],onChange:()=>p("email",e.key),className:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"})})}),h.jsx("td",{className:"py-4 px-2 text-center",children:h.jsx("label",{className:"inline-flex items-center",children:h.jsx("input",{type:"checkbox",checked:m.push[e.key],onChange:()=>p("push",e.key),className:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"})})}),h.jsx("td",{className:"py-4 px-2 text-center",children:h.jsx("label",{className:"inline-flex items-center",children:h.jsx("input",{type:"checkbox",checked:m.sms[e.key],onChange:()=>p("sms",e.key),className:"form-checkbox h-4 w-4 text-indigo-600 transition duration-150 ease-in-out"})})})]},e.key))})]})}),h.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),h.jsxs("div",{className:"flex flex-wrap gap-4",children:[h.jsx("button",{onClick:()=>{x(e=>({email:Object.keys(e.email).reduce((e,s)=>o(n({},e),{[s]:!0}),{}),push:Object.keys(e.push).reduce((e,s)=>o(n({},e),{[s]:!0}),{}),sms:Object.keys(e.sms).reduce((e,s)=>o(n({},e),{[s]:!0}),{})}))},className:"px-4 py-2 bg-indigo-100 text-indigo-700 rounded-lg hover:bg-indigo-200 transition-colors",children:"Enable All"}),h.jsx("button",{onClick:()=>{x(e=>({email:Object.keys(e.email).reduce((e,s)=>o(n({},e),{[s]:!1}),{}),push:Object.keys(e.push).reduce((e,s)=>o(n({},e),{[s]:!1}),{}),sms:Object.keys(e.sms).reduce((e,s)=>o(n({},e),{[s]:!1}),{})}))},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Disable All"}),h.jsx("button",{onClick:()=>{x(e=>({email:o(n({},e.email),{security:!0}),push:o(n({},e.push),{security:!0}),sms:o(n({},e.sms),{security:!0})}))},className:"px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:"Security Only"})]})]}),h.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:h.jsxs(ls.button,{onClick:()=>c(null,null,function*(){if(s){i(!0),d(null);try{const t={userId:s.id,emailOrderUpdates:m.email.orderUpdates,emailPromotions:m.email.promotions,emailNewsletter:m.email.newsletter,emailSecurity:m.email.security,emailProductUpdates:m.email.productUpdates,pushOrderUpdates:m.push.orderUpdates,pushPromotions:m.push.promotions,pushNewsletter:m.push.newsletter,pushSecurity:m.push.security,pushProductUpdates:m.push.productUpdates,smsOrderUpdates:m.sms.orderUpdates,smsPromotions:m.sms.promotions,smsNewsletter:m.sms.newsletter,smsSecurity:m.sms.security,smsProductUpdates:m.sms.productUpdates};if(!(yield xs(t)))throw new Error("Failed to update preferences");e({type:"success",title:"Settings Saved",message:"Your notification preferences have been updated"})}catch(t){d("Failed to save notification settings. Please try again."),e({type:"error",title:"Save Failed",message:"Failed to save notification settings"})}finally{i(!1)}}}),disabled:r,className:"btn-primary flex items-center gap-2 "+(r?"opacity-70 cursor-not-allowed":""),whileHover:r?{}:{scale:1.02},whileTap:r?{}:{scale:.98},children:[h.jsx(ge,{className:"h-4 w-4"}),r?"Saving...":"Save Preferences"]})})]})]})},xt=()=>{const{user:e,updatePassword:s}=Fe(),{showNotification:t}=Ee(),[a,r]=u.useState(!0),[i,l]=u.useState(!1),[d,m]=u.useState(null),[x,p]=u.useState(null),[g,y]=u.useState({current:!1,new:!1,confirm:!1}),[b,f]=u.useState({currentPassword:"",newPassword:"",confirmPassword:""});u.useEffect(()=>{c(null,null,function*(){if(e){r(!0),m(null);try{const s=yield us(e.id);s&&p(s)}catch(s){m("Failed to load security settings. Please try again.")}finally{r(!1)}}})},[e]);const j=e=>{const{name:s,value:t}=e.target;f(e=>o(n({},e),{[s]:t}))},N=e=>{y(s=>o(n({},s),{[e]:!s[e]}))},v=(e,s)=>c(null,null,function*(){if(!x)return;const a=o(n({},x),{[e]:s});p(a),l(!0);try{if(!(yield hs({[e]:s})))throw new Error("Failed to update setting");t({type:"success",title:"Setting Updated",message:"Security setting has been updated successfully"})}catch(r){p(x),t({type:"error",title:"Update Failed",message:"Failed to update security setting"})}finally{l(!1)}}),w=(e=>{let s=0;return e.length>=8&&s++,/[A-Z]/.test(e)&&s++,/[a-z]/.test(e)&&s++,/[0-9]/.test(e)&&s++,/[^A-Za-z0-9]/.test(e)&&s++,s})(b.newPassword),k=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"];return a?h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Security Settings"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your password and security preferences"})]}),h.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3,4].map(e=>h.jsx("div",{className:"bg-gray-200 h-24 rounded-lg"},e))})]}):h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Security Settings"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your password and security preferences"})]}),d&&h.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Ce,{className:"h-5 w-5 text-red-600"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),h.jsx("p",{className:"text-sm text-red-700 mt-1",children:d})]})]})}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(se,{className:"h-5 w-5 text-gray-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Change Password"})]}),h.jsxs("form",{onSubmit:e=>c(null,null,function*(){if(e.preventDefault(),b.newPassword===b.confirmPassword)if(b.newPassword.length<6)t({type:"error",title:"Password Too Short",message:"Password must be at least 6 characters long"});else{l(!0);try{yield s(b.newPassword),x&&(yield hs({passwordChangedAt:new Date})),t({type:"success",title:"Password Updated",message:"Your password has been updated successfully"}),f({currentPassword:"",newPassword:"",confirmPassword:""})}catch(a){t({type:"error",title:"Update Failed",message:a instanceof Error?a.message:"Failed to update password"})}finally{l(!1)}}else t({type:"error",title:"Password Mismatch",message:"New password and confirmation do not match"})}),className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:g.current?"text":"password",id:"currentPassword",name:"currentPassword",value:b.currentPassword,onChange:j,required:!0,className:"input-field pr-10",placeholder:"Enter your current password"}),h.jsx("button",{type:"button",onClick:()=>N("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g.current?h.jsx(EyeOff,{className:"h-4 w-4"}):h.jsx(Eye,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:g.new?"text":"password",id:"newPassword",name:"newPassword",value:b.newPassword,onChange:j,required:!0,className:"input-field pr-10",placeholder:"Enter your new password"}),h.jsx("button",{type:"button",onClick:()=>N("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g.new?h.jsx(EyeOff,{className:"h-4 w-4"}):h.jsx(Eye,{className:"h-4 w-4"})})]}),b.newPassword&&h.jsxs("div",{className:"mt-2",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(e=>h.jsx("div",{className:`h-2 w-6 rounded-full ${e<=w?k[w-1]:"bg-gray-200"}`},e))}),h.jsx("span",{className:"text-xs text-gray-600",children:w>0?["Very Weak","Weak","Fair","Good","Strong"][w-1]:"Very Weak"})]}),h.jsxs("ul",{className:"text-xs text-gray-500 space-y-1",children:[h.jsx("li",{className:b.newPassword.length>=8?"text-green-600":"",children:"• At least 8 characters"}),h.jsx("li",{className:/[A-Z]/.test(b.newPassword)?"text-green-600":"",children:"• One uppercase letter"}),h.jsx("li",{className:/[a-z]/.test(b.newPassword)?"text-green-600":"",children:"• One lowercase letter"}),h.jsx("li",{className:/[0-9]/.test(b.newPassword)?"text-green-600":"",children:"• One number"}),h.jsx("li",{className:/[^A-Za-z0-9]/.test(b.newPassword)?"text-green-600":"",children:"• One special character"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:g.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:b.confirmPassword,onChange:j,required:!0,className:"input-field pr-10",placeholder:"Confirm your new password"}),h.jsx("button",{type:"button",onClick:()=>N("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:g.confirm?h.jsx(EyeOff,{className:"h-4 w-4"}):h.jsx(Eye,{className:"h-4 w-4"})})]})]}),h.jsx(ls.button,{type:"submit",disabled:i,className:"btn-primary "+(i?"opacity-70 cursor-not-allowed":""),whileHover:i?{}:{scale:1.02},whileTap:i?{}:{scale:.98},children:i?"Updating...":"Update Password"})]})]}),h.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(me,{className:"h-5 w-5 text-indigo-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Two-Factor Authentication"})]}),h.jsx("div",{className:"flex items-center",children:h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:(null==x?void 0:x.twoFactorEnabled)||!1,onChange:()=>v("twoFactorEnabled",!(null==x?void 0:x.twoFactorEnabled)),disabled:i}),h.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"}),h.jsx("span",{className:"ml-3 text-sm font-medium text-gray-700",children:(null==x?void 0:x.twoFactorEnabled)?"Enabled":"Disabled"})]})})]}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Two-factor authentication adds an extra layer of security to your account by requiring a second form of verification in addition to your password."}),(null==x?void 0:x.twoFactorEnabled)&&h.jsxs("div",{className:"mt-4",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Method"}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{type:"button",onClick:()=>v("twoFactorMethod","email"),className:"px-4 py-2 rounded-lg flex items-center gap-2 "+("email"===x.twoFactorMethod?"bg-indigo-100 text-indigo-700 border border-indigo-300":"bg-gray-100 text-gray-700 border border-gray-200"),children:[h.jsx(Q,{className:"h-4 w-4"}),"Email"]}),h.jsxs("button",{type:"button",onClick:()=>v("twoFactorMethod","sms"),className:"px-4 py-2 rounded-lg flex items-center gap-2 "+("sms"===x.twoFactorMethod?"bg-indigo-100 text-indigo-700 border border-indigo-300":"bg-gray-100 text-gray-700 border border-gray-200"),children:[h.jsx(fe,{className:"h-4 w-4"}),"SMS"]}),h.jsxs("button",{type:"button",onClick:()=>v("twoFactorMethod","authenticator"),className:"px-4 py-2 rounded-lg flex items-center gap-2 "+("authenticator"===x.twoFactorMethod?"bg-indigo-100 text-indigo-700 border border-indigo-300":"bg-gray-100 text-gray-700 border border-gray-200"),children:[h.jsx(Settings,{className:"h-4 w-4"}),"Authenticator App"]})]})]}),"sms"===x.twoFactorMethod&&h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number for SMS Verification"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"tel",className:"input-field flex-1",placeholder:"Enter your phone number",value:x.twoFactorPhone||"",onChange:e=>p(o(n({},x),{twoFactorPhone:e.target.value}))}),h.jsx("button",{type:"button",className:"btn-primary",onClick:()=>v("twoFactorPhone",x.twoFactorPhone),children:"Save"})]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Ce,{className:"h-5 w-5 text-amber-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Security Alerts"})]})}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Login Alerts"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when someone logs into your account"})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:(null==x?void 0:x.loginAlerts)||!1,onChange:()=>v("loginAlerts",!(null==x?void 0:x.loginAlerts)),disabled:i}),h.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-900",children:"Suspicious Activity Alerts"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Get notified about suspicious account activity"})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:(null==x?void 0:x.suspiciousActivityAlerts)||!1,onChange:()=>v("suspiciousActivityAlerts",!(null==x?void 0:x.suspiciousActivityAlerts)),disabled:i}),h.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]})]}),h.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(me,{className:"h-5 w-5 text-blue-600"}),h.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Security Tips"})]}),h.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[h.jsx("li",{children:"• Use a unique password that you don't use anywhere else"}),h.jsx("li",{children:"• Make your password at least 8 characters long"}),h.jsx("li",{children:"• Include a mix of letters, numbers, and special characters"}),h.jsx("li",{children:"• Don't share your password with anyone"}),h.jsx("li",{children:"• Consider using a password manager"}),h.jsx("li",{children:"• Enable two-factor authentication for extra security"})]})]}),h.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(me,{className:"h-5 w-5 text-green-600"}),h.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Account Security Status"})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-green-800",children:"Email Verification"}),h.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Verified"})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-green-800",children:"Strong Password"}),h.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Active"})]})]})]})]})]})},ut=()=>{const{showNotification:e}=Ee(),{user:s}=Fe(),[t,a]=u.useState([]),[r,i]=u.useState(!0),[l,d]=u.useState(!1),[m,x]=u.useState(null);u.useEffect(()=>{c(null,null,function*(){if(s){i(!0),x(null);try{const e=yield ps();a(e)}catch(e){x("Failed to load payment methods. Please try again.")}finally{i(!1)}}})},[s]);const p=e=>{switch(e.toLowerCase()){case"visa":case"mastercard":case"amex":case"american express":default:return"💳";case"paypal":return"💰"}};return r?h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Settings"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your payment methods and billing information"})]}),h.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(e=>h.jsx("div",{className:"bg-gray-200 h-32 rounded-lg"},e))})]}):h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Methods"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your payment methods and billing information"})]}),m&&h.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(X,{className:"h-5 w-5 text-red-600"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),h.jsx("p",{className:"text-sm text-red-700 mt-1",children:m})]})]})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-indigo-300 transition-colors",children:[h.jsx(pe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Add New Payment Method"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Add a credit card, debit card, or PayPal account"}),h.jsxs(ls.button,{className:"btn-primary flex items-center gap-2 mx-auto",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{e("Add payment method functionality coming soon","info")},children:[h.jsx(E,{className:"h-4 w-4"}),"Add Payment Method"]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Payment Methods"}),h.jsx("div",{className:"space-y-4",children:t.map((t,r)=>{var i;return h.jsx(ls.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*r},className:"bg-white border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"text-2xl",children:p(t.provider)}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"font-medium text-gray-900",children:[t.provider," •••• ",t.lastFour]}),t.isDefault&&h.jsx(P,{className:"h-4 w-4 text-yellow-500 fill-current"})]}),h.jsxs("p",{className:"text-sm text-gray-600",children:[t.holderName," • Expires ",null==(i=t.expiryMonth)?void 0:i.toString().padStart(2,"0"),"/",t.expiryYear]})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[!t.isDefault&&h.jsx("button",{onClick:()=>{return r=t.id,c(null,null,function*(){if(s){d(!0);try{if(!(yield gs(r)))throw new Error("Failed to set default payment method");a(e=>e.map(e=>o(n({},e),{isDefault:e.id===r}))),e({type:"success",title:"Default Payment Method",message:"Default payment method has been updated"})}catch(t){e({type:"error",title:"Update Failed",message:"Failed to set default payment method"})}finally{d(!1)}}});var r},className:"text-sm px-3 py-1 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Set as Default"}),h.jsx("button",{onClick:()=>(s=>{e(`Edit payment method ${s.provider} functionality coming soon`,"info")})(t),className:"p-2 text-gray-400 hover:text-indigo-600 transition-colors",disabled:l,children:h.jsx(M,{className:"h-4 w-4"})}),h.jsx("button",{onClick:()=>{return s=t.id,c(null,null,function*(){if(window.confirm("Are you sure you want to delete this payment method?")){d(!0);try{if(!(yield ys(s)))throw new Error("Failed to delete payment method");a(e=>e.filter(e=>e.id!==s)),e({type:"success",title:"Payment Method Deleted",message:"Payment method has been deleted successfully"})}catch(t){e({type:"error",title:"Delete Failed",message:"Failed to delete payment method"})}finally{d(!1)}}});var s},className:"p-2 text-gray-400 hover:text-red-600 transition-colors",disabled:l,children:h.jsx(_,{className:"h-4 w-4"})})]})]})},t.id)})})]}),h.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Billing Information"}),h.jsxs("div",{className:"space-y-3 text-sm text-blue-800",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Billing Address:"}),h.jsx("span",{children:"Same as shipping address"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Tax ID:"}),h.jsx("span",{children:"Not provided"})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"Currency:"}),h.jsx("span",{children:"USD ($)"})]})]}),h.jsx("button",{className:"mt-4 text-sm text-blue-700 hover:text-blue-800 font-medium",children:"Update Billing Information"})]}),h.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-green-900 mb-2",children:"Security & Privacy"}),h.jsxs("ul",{className:"space-y-2 text-sm text-green-800",children:[h.jsx("li",{children:"• All payment information is encrypted and secure"}),h.jsx("li",{children:"• We never store your full credit card numbers"}),h.jsx("li",{children:"• Payments are processed by trusted payment providers"}),h.jsx("li",{children:"• You can remove payment methods at any time"})]})]})]})]})},ht=()=>{const{showNotification:e}=Ee(),[s,t]=u.useState(!1),[a,r]=u.useState({site:{siteName:"E-Commerce Platform",siteDescription:"Your one-stop shop for everything",maintenanceMode:!1,allowRegistration:!0,requireEmailVerification:!0},email:{smtpHost:"smtp.gmail.com",smtpPort:"587",smtpUser:"",smtpPassword:"",fromEmail:"noreply@ecommerce.com",fromName:"E-Commerce Platform"},security:{sessionTimeout:"24",maxLoginAttempts:"5",passwordMinLength:"8",requireStrongPassword:!0,enableTwoFactor:!1},data:{dataMode:"real",autoBackup:!0,backupFrequency:"daily",retentionDays:"30"}}),i=(e,s,t)=>{r(a=>o(n({},a),{[e]:o(n({},a[e]),{[s]:t})}))};return h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Admin Settings"}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Configure system-wide settings and preferences"})]}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(Se,{className:"h-5 w-5 text-gray-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Site Settings"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Name"}),h.jsx("input",{type:"text",value:a.site.siteName,onChange:e=>i("site","siteName",e.target.value),className:"input-field"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Site Description"}),h.jsx("input",{type:"text",value:a.site.siteDescription,onChange:e=>i("site","siteDescription",e.target.value),className:"input-field"})]})]}),h.jsxs("div",{className:"mt-4 space-y-3",children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:a.site.maintenanceMode,onChange:e=>i("site","maintenanceMode",e.target.checked),className:"form-checkbox h-4 w-4 text-indigo-600"}),h.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Maintenance Mode"})]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:a.site.allowRegistration,onChange:e=>i("site","allowRegistration",e.target.checked),className:"form-checkbox h-4 w-4 text-indigo-600"}),h.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Allow User Registration"})]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:a.site.requireEmailVerification,onChange:e=>i("site","requireEmailVerification",e.target.checked),className:"form-checkbox h-4 w-4 text-indigo-600"}),h.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Require Email Verification"})]})]})]}),h.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(Pe,{className:"h-5 w-5 text-gray-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Data Management"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Data Mode"}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("button",{onClick:()=>{const s="real"===a.data.dataMode?"mock":"real";i("data","dataMode",s),localStorage.setItem("ecommerce_data_mode",s),e({type:"info",title:"Data Mode Changed",message:`Switched to ${s} data mode. Refresh the page to see changes.`})},className:"px-4 py-2 rounded-lg font-medium transition-colors "+("real"===a.data.dataMode?"bg-green-100 text-green-700 border border-green-200":"bg-blue-100 text-blue-700 border border-blue-200"),children:"real"===a.data.dataMode?"Real Data Mode":"Mock Data Mode"}),h.jsx("span",{className:"text-sm text-gray-600",children:"real"===a.data.dataMode?"Using live database data":"Using demonstration data"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Backup Frequency"}),h.jsxs("select",{value:a.data.backupFrequency,onChange:e=>i("data","backupFrequency",e.target.value),className:"input-field",children:[h.jsx("option",{value:"hourly",children:"Hourly"}),h.jsx("option",{value:"daily",children:"Daily"}),h.jsx("option",{value:"weekly",children:"Weekly"}),h.jsx("option",{value:"monthly",children:"Monthly"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Retention Days"}),h.jsx("input",{type:"number",value:a.data.retentionDays,onChange:e=>i("data","retentionDays",e.target.value),className:"input-field"})]})]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:a.data.autoBackup,onChange:e=>i("data","autoBackup",e.target.checked),className:"form-checkbox h-4 w-4 text-indigo-600"}),h.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Enable Automatic Backups"})]})]})]}),h.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx(me,{className:"h-5 w-5 text-gray-600"}),h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Security Settings"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (hours)"}),h.jsx("input",{type:"number",value:a.security.sessionTimeout,onChange:e=>i("security","sessionTimeout",e.target.value),className:"input-field"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Login Attempts"}),h.jsx("input",{type:"number",value:a.security.maxLoginAttempts,onChange:e=>i("security","maxLoginAttempts",e.target.value),className:"input-field"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Password Length"}),h.jsx("input",{type:"number",value:a.security.passwordMinLength,onChange:e=>i("security","passwordMinLength",e.target.value),className:"input-field"})]})]}),h.jsxs("div",{className:"mt-4 space-y-3",children:[h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:a.security.requireStrongPassword,onChange:e=>i("security","requireStrongPassword",e.target.checked),className:"form-checkbox h-4 w-4 text-indigo-600"}),h.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Require Strong Passwords"})]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:a.security.enableTwoFactor,onChange:e=>i("security","enableTwoFactor",e.target.checked),className:"form-checkbox h-4 w-4 text-indigo-600"}),h.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Enable Two-Factor Authentication"})]})]})]}),h.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:h.jsxs(ls.button,{onClick:()=>c(null,null,function*(){t(!0);try{yield new Promise(e=>setTimeout(e,1500)),e({type:"success",title:"Settings Saved",message:"Admin settings have been updated successfully"})}catch(s){e({type:"error",title:"Save Failed",message:"Failed to save admin settings"})}finally{t(!1)}}),disabled:s,className:"btn-primary flex items-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsx(ge,{className:"h-4 w-4"}),s?"Saving...":"Save Settings"]})})]})]})},pt=()=>{const{user:e}=Fe(),[s,t]=u.useState("profile"),a=[{id:"profile",name:"Profile",icon:ee,description:"Personal information and preferences"},{id:"addresses",name:"Addresses",icon:ce,description:"Shipping and billing addresses"},{id:"notifications",name:"Notifications",icon:ke,description:"Email and push notification settings"},{id:"security",name:"Security",icon:me,description:"Password and security settings"},{id:"payment",name:"Payment",icon:pe,description:"Payment methods and billing"},..."admin"===(null==e?void 0:e.role)?[{id:"admin",name:"Admin",icon:SettingsIcon,description:"System administration settings"}]:[]];return h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),h.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your account settings and preferences"})]}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[h.jsx("div",{className:"lg:w-1/4",children:h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:h.jsx("nav",{className:"space-y-2",children:a.map(e=>{const a=e.icon;return h.jsxs(ls.button,{onClick:()=>t(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-left transition-colors "+(s===e.id?"bg-indigo-50 text-indigo-700 border border-indigo-200":"text-gray-700 hover:bg-gray-50"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsx(a,{className:"h-5 w-5 "+(s===e.id?"text-indigo-600":"text-gray-400")}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:e.name}),h.jsx("div",{className:"text-xs text-gray-500 mt-1",children:e.description})]})]},e.id)})})})}),h.jsx("div",{className:"lg:w-3/4",children:h.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 min-h-[600px]",children:h.jsx(ls.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:(()=>{switch(s){case"profile":default:return h.jsx(ot,{});case"addresses":return h.jsx(ct,{});case"notifications":return h.jsx(mt,{});case"security":return h.jsx(xt,{});case"payment":return h.jsx(ut,{});case"admin":return"admin"===(null==e?void 0:e.role)?h.jsx(ht,{}):h.jsx(ot,{})}})()},s)})})]})]})})},gt=Object.freeze(Object.defineProperty({__proto__:null,SettingsPage:pt,default:pt},Symbol.toStringTag,{value:"Module"}));export{Rs as A,Fs as C,Ms as D,Ts as N,nt as O,vs as P,Ss as S,As as W,ks as a,Is as b,qs as c,Bs as d,fs as e,Ys as f,Ws as g,rt as h,gt as i};
